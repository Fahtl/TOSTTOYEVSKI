<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>توستو | القائمة</title>
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* =====================================================
           المتغيرات العامة (CSS Variables) - التخصيص الكامل
           ===================================================== */
        :root {
            /* الألوان الأساسية */
            --primary: #ff8c00;
            --primary-light: #ffa233;
            --primary-dark: #e67e00;
            --secondary: #6c5ce7;
            --secondary-light: #8a7cf0;
            --secondary-dark: #5a4cc7;
            --success: #28a745;
            --success-light: #48c768;
            --success-dark: #1e7e34;
            --danger: #dc3545;
            --danger-light: #e4606d;
            --danger-dark: #bd2130;
            --warning: #ffc107;
            --warning-light: #ffce3a;
            --warning-dark: #d39e00;
            --info: #17a2b8;
            --info-light: #3ab5cc;
            --info-dark: #117a8b;
            
            /* ألوان الخلفية */
            --dark-bg: #0a0a0a;
            --dark-card: #1e1e1e;
            --dark-surface: #2a2a2a;
            --light-bg: #f6f1e8;
            --light-card: #fffaf3;
            --light-surface: #ffffff;
            
            /* ألوان النصوص */
            --text-dark: #2b2b2b;
            --text-light: #ffffff;
            --text-muted: #888888;
            --text-primary: var(--primary);
            --text-secondary: var(--secondary);
            
            /* الظلال */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 5px 15px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.3);
            --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.4);
            --shadow-primary: 0 5px 15px rgba(255, 140, 0, 0.3);
            --shadow-secondary: 0 5px 15px rgba(108, 92, 231, 0.3);
            --shadow-success: 0 5px 15px rgba(40, 167, 69, 0.3);
            --shadow-danger: 0 5px 15px rgba(220, 53, 69, 0.3);
            --shadow-inner: inset 0 2px 5px rgba(0, 0, 0, 0.1);
            
            /* الحواف المستديرة */
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 15px;
            --radius-xl: 25px;
            --radius-full: 50px;
            --radius-circle: 50%;
            
            /* المسافات */
            --spacing-xs: 5px;
            --spacing-sm: 10px;
            --spacing-md: 15px;
            --spacing-lg: 20px;
            --spacing-xl: 30px;
            --spacing-2xl: 40px;
            --spacing-3xl: 60px;
            --spacing-4xl: 80px;
            
            /* الخطوط */
            --font-primary: 'Cairo', 'Tajawal', sans-serif;
            --font-code: 'Fira Code', monospace;
            
            /* الانتقالات */
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            --transition-bounce: 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* أحجام الخطوط */
            --font-xs: 12px;
            --font-sm: 14px;
            --font-md: 16px;
            --font-lg: 18px;
            --font-xl: 20px;
            --font-2xl: 24px;
            --font-3xl: 32px;
            --font-4xl: 40px;
            --font-5xl: 60px;
            --font-6xl: 72px;
            
            /* الطبقات (z-index) */
            --z-base: 1;
            --z-above: 10;
            --z-dropdown: 100;
            --z-sticky: 200;
            --z-fixed: 300;
            --z-modal: 400;
            --z-popover: 500;
            --z-tooltip: 600;
            --z-toast: 700;
        }

        /* =====================================================
           الوضع الفاتح (Light Mode)
           ===================================================== */
        [data-theme="light"] {
            --primary: #ff8c00;
            --primary-light: #ffa233;
            --primary-dark: #e67e00;
            --secondary: #6c5ce7;
            
            --dark-bg: #f6f1e8;
            --dark-card: #fffaf3;
            --dark-surface: #ffffff;
            
            --text-dark: #2b2b2b;
            --text-light: #2b2b2b;
            --text-muted: #666666;
            
            --shadow-primary: 0 5px 15px rgba(255, 140, 0, 0.2);
            --shadow-secondary: 0 5px 15px rgba(108, 92, 231, 0.2);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        /* =====================================================
           إعادة تعيين الأنماط الأساسية
           ===================================================== */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
            font-size: 16px;
        }

        body {
            font-family: var(--font-primary);
            background: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            transition: background var(--transition-normal), color var(--transition-normal);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        body.rtl {
            direction: rtl;
            text-align: right;
        }

        body.ltr {
            direction: ltr;
            text-align: left;
        }

        /* =====================================================
           إخفاء شريط التمرير مع الحفاظ على الوظيفة
           ===================================================== */
        body::-webkit-scrollbar {
            width: 8px;
        }

        body::-webkit-scrollbar-track {
            background: var(--dark-surface);
        }

        body::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: var(--radius-full);
        }

        body::-webkit-scrollbar-thumb:hover {
            background: var(--primary-light);
        }

        /* =====================================================
           الرسوم المتحركة المتقدمة
           ===================================================== */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes floatReverse {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px var(--primary); }
            50% { box-shadow: 0 0 40px var(--primary), 0 0 60px var(--primary); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes spinReverse {
            from { transform: rotate(360deg); }
            to { transform: rotate(0deg); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        @keyframes slideOutLeft {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes slideInUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideInDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        @keyframes scaleIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        @keyframes scaleOut {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(0); opacity: 0; }
        }

        @keyframes scaleInBounce {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.1); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes rotateIn {
            from { transform: rotate(-180deg) scale(0); opacity: 0; }
            to { transform: rotate(0) scale(1); opacity: 1; }
        }

        @keyframes rotateOut {
            from { transform: rotate(0) scale(1); opacity: 1; }
            to { transform: rotate(180deg) scale(0); opacity: 0; }
        }

        @keyframes flipIn {
            from { transform: perspective(400px) rotateX(90deg); opacity: 0; }
            to { transform: perspective(400px) rotateX(0); opacity: 1; }
        }

        @keyframes flipOut {
            from { transform: perspective(400px) rotateX(0); opacity: 1; }
            to { transform: perspective(400px) rotateX(90deg); opacity: 0; }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes wave {
            0% { transform: rotate(0deg); }
            10% { transform: rotate(14deg); }
            20% { transform: rotate(-8deg); }
            30% { transform: rotate(14deg); }
            40% { transform: rotate(-4deg); }
            50% { transform: rotate(10deg); }
            60% { transform: rotate(0deg); }
            100% { transform: rotate(0deg); }
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* =====================================================
           الأنماط العامة
           ===================================================== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .section {
            padding: var(--spacing-4xl) 0;
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .section-title {
            font-size: var(--font-5xl);
            font-weight: 800;
            color: var(--primary);
            text-align: center;
            margin-bottom: var(--spacing-4xl);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
            text-shadow: 0 0 30px var(--primary);
            letter-spacing: 2px;
            animation: pulseGlow 3s ease-in-out infinite;
        }

        body.rtl .section-title {
            left: auto;
            right: 50%;
            transform: translateX(50%);
        }

        .section-title::before,
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            height: 4px;
            border-radius: var(--radius-full);
        }

        .section-title::before {
            width: 150px;
            background: var(--primary);
            opacity: 0.5;
        }

        .section-title::after {
            width: 75px;
            background: var(--primary-light);
            bottom: -24px;
        }

        /* =====================================================
           القسم الرئيسي (Hero Section)
           ===================================================== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 100%),
                        url('https://images.unsplash.com/photo-1528735602780-2552fd46c7af?w=1600') center/cover fixed;
            text-align: center;
            padding: var(--spacing-2xl);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,140,0,0.2) 0%, transparent 60%);
            animation: spin 40s linear infinite;
            pointer-events: none;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(108,92,231,0.15) 0%, transparent 60%);
            animation: spinReverse 50s linear infinite;
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: var(--z-above);
            max-width: 800px;
        }

        .hero h1 {
            font-size: clamp(var(--font-5xl), 15vw, var(--font-6xl));
            font-weight: 900;
            color: var(--primary);
            text-shadow: 0 0 40px var(--primary), 0 0 80px rgba(255,140,0,0.5);
            margin-bottom: var(--spacing-xl);
            animation: float 4s ease-in-out infinite;
            letter-spacing: 4px;
            position: relative;
        }

        .hero h1:hover {
            animation: heartbeat 1s ease-in-out infinite;
        }

        .hero .work-time {
            font-size: var(--font-2xl);
            font-weight: 600;
            color: var(--primary);
            background: rgba(255,140,0,0.15);
            backdrop-filter: blur(10px);
            padding: var(--spacing-md) var(--spacing-2xl);
            border-radius: var(--radius-full);
            border: 2px solid rgba(255,140,0,0.3);
            margin-bottom: var(--spacing-2xl);
            animation: pulse 2s ease-in-out infinite;
            display: inline-block;
            box-shadow: var(--shadow-lg);
        }

        .hero .btn {
            animation: bounce 2s ease-in-out infinite;
        }

        /* =====================================================
           الأزرار
           ===================================================== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-2xl);
            border: none;
            border-radius: var(--radius-md);
            font-size: var(--font-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            background: var(--primary);
            color: var(--text-light);
            box-shadow: var(--shadow-primary);
            text-decoration: none;
            min-width: 180px;
            letter-spacing: 0.5px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: var(--radius-circle);
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
            z-index: var(--z-base);
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255,140,0,0.5);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn i {
            font-size: var(--font-xl);
            transition: transform var(--transition-normal);
        }

        .btn:hover i {
            transform: scale(1.2) rotate(5deg);
        }

        .btn-secondary {
            background: var(--secondary);
            box-shadow: var(--shadow-secondary);
        }

        .btn-secondary:hover {
            box-shadow: 0 15px 30px rgba(108, 92, 231, 0.5);
        }

        .btn-success {
            background: var(--success);
            box-shadow: var(--shadow-success);
        }

        .btn-success:hover {
            box-shadow: 0 15px 30px rgba(40, 167, 69, 0.5);
        }

        .btn-danger {
            background: var(--danger);
            box-shadow: var(--shadow-danger);
        }

        .btn-danger:hover {
            box-shadow: 0 15px 30px rgba(220, 53, 69, 0.5);
        }

        .btn-warning {
            background: var(--warning);
            color: var(--text-dark);
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.3);
        }

        .btn-warning:hover {
            box-shadow: 0 15px 30px rgba(255, 193, 7, 0.5);
        }

        .btn-info {
            background: var(--info);
            box-shadow: 0 5px 15px rgba(23, 162, 184, 0.3);
        }

        .btn-info:hover {
            box-shadow: 0 15px 30px rgba(23, 162, 184, 0.5);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: none;
        }

        .btn-outline:hover {
            background: var(--primary);
            color: var(--text-light);
            transform: translateY(-5px);
        }

        .btn-sm {
            padding: var(--spacing-sm) var(--spacing-lg);
            font-size: var(--font-sm);
            min-width: 120px;
        }

        .btn-lg {
            padding: var(--spacing-lg) var(--spacing-3xl);
            font-size: var(--font-xl);
            min-width: 220px;
        }

        .btn-block {
            width: 100%;
        }

        .btn-icon {
            width: 50px;
            height: 50px;
            padding: 0;
            min-width: unset;
            border-radius: var(--radius-circle);
        }

        .btn-icon i {
            margin: 0;
        }

        .btn-group {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        /* =====================================================
           البطاقات (Cards)
           ===================================================== */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-2xl);
            padding: var(--spacing-lg);
        }

        .card {
            background: var(--dark-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: all var(--transition-normal);
            border: 2px solid transparent;
            box-shadow: var(--shadow-xl);
            position: relative;
            animation: fadeIn 0.6s ease-out;
            backdrop-filter: blur(10px);
            transform-origin: center;
        }

        .card:hover {
            transform: translateY(-15px) scale(1.02);
            border-color: var(--primary);
            box-shadow: 0 40px 60px rgba(255,140,0,0.4);
        }

        .card-image-container {
            width: 100%;
            height: 220px;
            overflow: hidden;
            position: relative;
        }

        .card-image-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(to top, var(--dark-card), transparent);
        }

        .card-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 1s;
        }

        .card:hover .card-image {
            transform: scale(1.15);
        }

        .card-header {
            padding: var(--spacing-xl);
            border-bottom: 2px solid rgba(255,140,0,0.3);
            position: relative;
            background: rgba(0,0,0,0.2);
        }

        .card-header h3 {
            font-size: var(--font-2xl);
            color: var(--primary);
            font-weight: 700;
            text-align: center;
            margin: 0;
            text-shadow: 0 0 10px rgba(255,140,0,0.5);
        }

        .card-body {
            padding: var(--spacing-xl);
        }

        .delete-card-btn {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            width: 40px;
            height: 40px;
            border-radius: var(--radius-circle);
            background: var(--danger);
            color: white;
            border: 2px solid white;
            cursor: pointer;
            opacity: 0;
            transition: all var(--transition-normal);
            z-index: var(--z-above);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-lg);
            box-shadow: var(--shadow-danger);
        }

        body.rtl .delete-card-btn {
            right: auto;
            left: var(--spacing-md);
        }

        .card:hover .delete-card-btn {
            opacity: 1;
            animation: bounce 1s ease;
        }

        .delete-card-btn:hover {
            transform: scale(1.15) rotate(90deg);
            background: var(--danger-dark);
        }

        /* =====================================================
           عناصر القائمة (Menu Items)
           ===================================================== */
        .items-container {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md);
            background: rgba(0,0,0,0.2);
            border-radius: var(--radius-md);
            border: 1px dashed rgba(255,140,0,0.2);
            transition: all var(--transition-normal);
            position: relative;
            animation: slideInLeft 0.5s ease-out;
            cursor: pointer;
            overflow: hidden;
        }

        .item:hover {
            transform: translateX(8px);
            border-color: var(--primary);
            background: rgba(255,140,0,0.15);
            box-shadow: var(--shadow-md);
        }

        body.rtl .item:hover {
            transform: translateX(-8px);
        }

        .item.has-image {
            padding-left: 80px;
            min-height: 80px;
        }

        body.rtl .item.has-image {
            padding-left: var(--spacing-md);
            padding-right: 80px;
        }

        .item-image {
            position: absolute;
            left: var(--spacing-sm);
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            border-radius: var(--radius-md);
            object-fit: cover;
            border: 2px solid var(--primary);
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-sm);
        }

        body.rtl .item-image {
            left: auto;
            right: var(--spacing-sm);
        }

        .item:hover .item-image {
            transform: translateY(-50%) scale(1.1) rotate(5deg);
            border-color: var(--primary-light);
            box-shadow: var(--shadow-primary);
        }

        .item-info {
            flex: 1;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .item-name {
            color: var(--primary);
            font-weight: 600;
            font-size: var(--font-lg);
            transition: color var(--transition-normal);
        }

        .item:hover .item-name {
            color: var(--primary-light);
        }

        .item-price {
            font-weight: 700;
            font-size: var(--font-lg);
            padding: var(--spacing-xs) var(--spacing-md);
            background: rgba(255,140,0,0.2);
            border-radius: var(--radius-full);
            transition: all var(--transition-normal);
            white-space: nowrap;
            border: 1px solid rgba(255,140,0,0.3);
        }

        .item:hover .item-price {
            background: rgba(255,140,0,0.4);
            transform: scale(1.05);
            border-color: var(--primary);
        }

        .item-actions {
            display: flex;
            gap: var(--spacing-xs);
            margin-left: var(--spacing-md);
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        body.rtl .item-actions {
            margin-left: 0;
            margin-right: var(--spacing-md);
        }

        .item:hover .item-actions {
            opacity: 1;
        }

        .item-edit-btn,
        .item-delete-btn {
            width: 35px;
            height: 35px;
            border-radius: var(--radius-circle);
            border: none;
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-md);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .item-edit-btn {
            background: var(--success);
        }

        .item-delete-btn {
            background: var(--danger);
        }

        .item-edit-btn:hover,
        .item-delete-btn:hover {
            transform: scale(1.15);
            box-shadow: var(--shadow-md);
        }

        .item-edit-btn:hover {
            background: var(--success-dark);
        }

        .item-delete-btn:hover {
            background: var(--danger-dark);
        }

        /* =====================================================
           قسم الاتصال
           ===================================================== */
        .contact-section {
            background: #000;
            position: relative;
            overflow: hidden;
            padding: var(--spacing-4xl) 0;
        }

        .contact-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,140,0,0.15) 0%, transparent 70%);
            animation: spin 40s linear infinite;
            pointer-events: none;
        }

        .contact-section::after {
            content: '';
            position: absolute;
            bottom: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(108,92,231,0.1) 0%, transparent 70%);
            animation: spinReverse 50s linear infinite;
            pointer-events: none;
        }

        .contact-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-3xl);
            position: relative;
            z-index: var(--z-above);
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xl);
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-xl);
            padding: var(--spacing-xl);
            background: rgba(255,255,255,0.05);
            border-radius: var(--radius-lg);
            backdrop-filter: blur(10px);
            transition: all var(--transition-normal);
            border: 1px solid rgba(255,140,0,0.1);
            animation: slideInLeft 0.5s ease-out;
            animation-fill-mode: both;
        }

        .contact-item:nth-child(1) { animation-delay: 0.1s; }
        .contact-item:nth-child(2) { animation-delay: 0.2s; }
        .contact-item:nth-child(3) { animation-delay: 0.3s; }

        .contact-item:hover {
            transform: translateX(15px);
            background: rgba(255,140,0,0.15);
            border-color: var(--primary);
            box-shadow: var(--shadow-primary);
        }

        body.rtl .contact-item:hover {
            transform: translateX(-15px);
        }

        .contact-icon {
            width: 70px;
            height: 70px;
            background: var(--primary);
            border-radius: var(--radius-circle);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-3xl);
            color: white;
            box-shadow: var(--shadow-primary);
            transition: all var(--transition-normal);
        }

        .contact-item:hover .contact-icon {
            transform: scale(1.1) rotate(10deg);
            background: var(--primary-light);
        }

        .contact-text {
            font-size: var(--font-xl);
            font-weight: 500;
        }

        .contact-text a {
            color: var(--primary);
            text-decoration: none;
            transition: color var(--transition-normal);
            position: relative;
        }

        .contact-text a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width var(--transition-normal);
        }

        .contact-text a:hover::after {
            width: 100%;
        }

        .map-container {
            width: 100%;
            height: 450px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 2px solid var(--primary);
            animation: slideInRight 0.5s ease-out 0.2s both;
        }

        .map-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            transition: transform var(--transition-normal);
        }

        .map-container:hover iframe {
            transform: scale(1.02);
        }

        /* =====================================================
           عناصر التحكم (Controls)
           ===================================================== */
        .floating-controls {
            position: fixed;
            top: var(--spacing-xl);
            right: var(--spacing-xl);
            display: flex;
            gap: var(--spacing-sm);
            z-index: var(--z-fixed);
        }

        body.rtl .floating-controls {
            right: auto;
            left: var(--spacing-xl);
        }

        .control-btn {
            width: 55px;
            height: 55px;
            border-radius: var(--radius-circle);
            border: 2px solid rgba(255,255,255,0.2);
            background: var(--primary);
            color: white;
            font-size: var(--font-2xl);
            cursor: pointer;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            animation: float 3s ease-in-out infinite;
        }

        .control-btn:nth-child(1) { animation-delay: 0s; }
        .control-btn:nth-child(2) { animation-delay: 0.2s; }

        .control-btn:hover {
            transform: scale(1.15) rotate(10deg);
            background: var(--primary-light);
            box-shadow: 0 15px 35px rgba(255,140,0,0.6);
            border-color: white;
        }

        .language-menu {
            position: fixed;
            top: calc(var(--spacing-xl) * 2 + 55px);
            right: var(--spacing-xl);
            background: rgba(26, 26, 26, 0.98);
            border: 2px solid var(--primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-md);
            display: none;
            flex-direction: column;
            gap: var(--spacing-xs);
            min-width: 220px;
            z-index: var(--z-modal);
            box-shadow: var(--shadow-xl);
            backdrop-filter: blur(10px);
            animation: scaleIn 0.3s ease;
        }

        body.rtl .language-menu {
            right: auto;
            left: var(--spacing-xl);
        }

        .language-btn {
            padding: var(--spacing-md);
            background: transparent;
            border: 1px solid rgba(255,140,0,0.3);
            border-radius: var(--radius-md);
            color: white;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-align: left;
            font-size: var(--font-md);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        body.rtl .language-btn {
            text-align: right;
        }

        .language-btn:hover {
            background: var(--primary);
            transform: translateX(8px);
            border-color: var(--primary);
        }

        body.rtl .language-btn:hover {
            transform: translateX(-8px);
        }

        .floating-dev-btn {
            position: fixed;
            bottom: var(--spacing-2xl);
            right: var(--spacing-2xl);
            width: 80px;
            height: 80px;
            border-radius: var(--radius-circle);
            background: var(--primary);
            color: white;
            border: 3px solid white;
            font-size: var(--font-3xl);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: var(--z-fixed);
            animation: float 3s ease-in-out infinite;
            box-shadow: var(--shadow-xl);
            transition: all var(--transition-normal);
        }

        body.rtl .floating-dev-btn {
            right: auto;
            left: var(--spacing-2xl);
        }

        .floating-dev-btn:hover {
            transform: scale(1.15) rotate(15deg);
            background: var(--primary-light);
            box-shadow: 0 20px 40px rgba(255,140,0,0.5);
        }

        /* =====================================================
           النوافذ المشروطة (Modals)
           ===================================================== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: var(--z-modal);
            animation: fadeIn var(--transition-normal);
        }

        .modal {
            background: var(--dark-card);
            border: 3px solid var(--primary);
            border-radius: var(--radius-xl);
            padding: var(--spacing-2xl);
            max-width: 90%;
            width: 550px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow-xl);
            animation: scaleInBounce var(--transition-bounce);
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--spacing-xl);
            padding-bottom: var(--spacing-lg);
            border-bottom: 2px solid rgba(255,140,0,0.3);
        }

        .modal-header h3 {
            color: var(--primary);
            font-size: var(--font-2xl);
            font-weight: 700;
            margin: 0;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-circle);
            background: var(--danger);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-xl);
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-danger);
        }

        .modal-close:hover {
            transform: scale(1.15) rotate(90deg);
            background: var(--danger-dark);
        }

        .modal-body {
            margin-bottom: var(--spacing-xl);
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-md);
            padding-top: var(--spacing-lg);
            border-top: 2px solid rgba(255,140,0,0.3);
        }

        /* =====================================================
           نماذج الإدخال (Forms)
           ===================================================== */
        .form-group {
            margin-bottom: var(--spacing-xl);
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-sm);
            color: var(--primary);
            font-weight: 600;
            font-size: var(--font-md);
        }

        .form-control {
            width: 100%;
            padding: var(--spacing-md);
            background: rgba(0,0,0,0.5);
            border: 2px solid rgba(255,140,0,0.3);
            border-radius: var(--radius-md);
            color: var(--text-light);
            font-size: var(--font-md);
            transition: all var(--transition-normal);
            font-family: var(--font-primary);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(255,140,0,0.2);
        }

        .form-control::placeholder {
            color: var(--text-muted);
            opacity: 0.5;
        }

        select.form-control {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23ff8c00' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left var(--spacing-md) center;
            background-size: 16px;
        }

        body.rtl select.form-control {
            background-position: right var(--spacing-md) center;
        }

        select.form-control option {
            background: var(--dark-card);
            color: var(--text-light);
            padding: var(--spacing-md);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        /* =====================================================
           نوافذ المطور (Developer Windows)
           ===================================================== */
        .dev-window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 95%;
            max-width: 750px;
            max-height: 90vh;
            overflow-y: auto;
            background: rgba(26, 26, 26, 0.98);
            border: 3px solid var(--primary);
            border-radius: var(--radius-xl);
            padding: var(--spacing-2xl);
            z-index: var(--z-popover);
            display: none;
            box-shadow: var(--shadow-xl);
            backdrop-filter: blur(10px);
            animation: scaleIn 0.3s ease;
        }

        .dev-window.v2 {
            max-width: 950px;
            border-color: var(--secondary);
        }

        .dev-window .window-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--spacing-2xl);
            padding-bottom: var(--spacing-lg);
            border-bottom: 2px solid rgba(255,140,0,0.3);
            cursor: move;
        }

        .dev-window.v2 .window-header {
            border-bottom-color: rgba(108, 92, 231, 0.3);
        }

        .dev-window .window-header h3 {
            color: var(--primary);
            font-size: var(--font-2xl);
            font-weight: 700;
            margin: 0;
        }

        .dev-window.v2 .window-header h3 {
            color: var(--secondary);
        }

        .dev-section {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,140,0,0.2);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            transition: all var(--transition-normal);
        }

        .dev-section:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-primary);
        }

        .dev-section.v2 {
            border-color: rgba(108, 92, 231, 0.2);
        }

        .dev-section.v2:hover {
            border-color: var(--secondary);
            box-shadow: var(--shadow-secondary);
        }

        .dev-section h4 {
            color: var(--primary);
            font-size: var(--font-xl);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .dev-section.v2 h4 {
            color: var(--secondary);
        }

        .code-display {
            background: #0a0a0a;
            border: 1px solid var(--primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            font-family: var(--font-code);
            font-size: var(--font-sm);
            max-height: 250px;
            overflow: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-top: var(--spacing-lg);
            line-height: 1.8;
        }

        .code-display::-webkit-scrollbar {
            width: 6px;
        }

        .code-display::-webkit-scrollbar-track {
            background: var(--dark-surface);
        }

        .code-display::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: var(--radius-full);
        }

        .image-url-list {
            max-height: 250px;
            overflow-y: auto;
            background: #0a0a0a;
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }

        .image-url-list::-webkit-scrollbar {
            width: 6px;
        }

        .image-url-list::-webkit-scrollbar-track {
            background: var(--dark-surface);
        }

        .image-url-list::-webkit-scrollbar-thumb {
            background: var(--secondary);
            border-radius: var(--radius-full);
        }

        .image-url-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md);
            border-bottom: 1px solid rgba(255,140,0,0.2);
            transition: all var(--transition-normal);
        }

        .image-url-item:hover {
            background: rgba(255,140,0,0.1);
            transform: translateX(5px);
        }

        .image-url-item:last-child {
            border-bottom: none;
        }

        .image-url-item span {
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            font-size: var(--font-sm);
            color: var(--secondary);
            direction: ltr;
            text-align: left;
        }

        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: var(--spacing-sm);
            margin: var(--spacing-lg) 0;
        }

        /* =====================================================
           رسائل الحالة (Toast Messages)
           ===================================================== */
        .toast-container {
            position: fixed;
            top: var(--spacing-xl);
            right: var(--spacing-xl);
            z-index: var(--z-toast);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        body.rtl .toast-container {
            right: auto;
            left: var(--spacing-xl);
        }

        .toast {
            background: rgba(26, 26, 26, 0.98);
            border: 2px solid;
            border-radius: var(--radius-lg);
            padding: var(--spacing-md) var(--spacing-xl);
            color: white;
            font-weight: 600;
            animation: slideInRight var(--transition-normal);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
            min-width: 350px;
            box-shadow: var(--shadow-xl);
        }

        body.rtl .toast {
            animation: slideInLeft var(--transition-normal);
        }

        .toast.success {
            border-color: var(--success);
        }

        .toast.error {
            border-color: var(--danger);
        }

        .toast.info {
            border-color: var(--primary);
        }

        .toast.warning {
            border-color: var(--warning);
        }

        .toast-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-circle);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-xl);
        }

        .toast.success .toast-icon {
            background: var(--success);
        }

        .toast.error .toast-icon {
            background: var(--danger);
        }

        .toast.info .toast-icon {
            background: var(--primary);
        }

        .toast.warning .toast-icon {
            background: var(--warning);
            color: var(--text-dark);
        }

        .toast-message {
            flex: 1;
            font-size: var(--font-md);
        }

        .toast-close {
            cursor: pointer;
            opacity: 0.5;
            transition: opacity var(--transition-normal);
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-circle);
        }

        .toast-close:hover {
            opacity: 1;
            background: rgba(255,255,255,0.1);
        }

        /* =====================================================
           مؤشرات التحميل (Loading Spinners)
           ===================================================== */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255,140,0,0.3);
            border-top-color: var(--primary);
            border-radius: var(--radius-circle);
            animation: spin 1s linear infinite;
        }

        .spinner-sm {
            width: 20px;
            height: 20px;
            border-width: 2px;
        }

        .spinner-lg {
            width: 60px;
            height: 60px;
            border-width: 6px;
        }

        /* =====================================================
           شارات (Badges)
           ===================================================== */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            font-weight: 600;
            background: var(--primary);
            color: white;
        }

        .badge-success {
            background: var(--success);
        }

        .badge-danger {
            background: var(--danger);
        }

        .badge-warning {
            background: var(--warning);
            color: var(--text-dark);
        }

        .badge-info {
            background: var(--info);
        }

        /* =====================================================
           أدوات مساعدة (Utilities)
           ===================================================== */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }
        .text-primary { color: var(--primary); }
        .text-secondary { color: var(--secondary); }
        .text-success { color: var(--success); }
        .text-danger { color: var(--danger); }
        .text-warning { color: var(--warning); }
        .text-info { color: var(--info); }
        .text-muted { color: var(--text-muted); }
        
        .bg-primary { background: var(--primary); }
        .bg-secondary { background: var(--secondary); }
        .bg-success { background: var(--success); }
        .bg-danger { background: var(--danger); }
        .bg-warning { background: var(--warning); }
        .bg-info { background: var(--info); }
        .bg-dark { background: var(--dark-bg); }
        .bg-card { background: var(--dark-card); }
        
        .mt-1 { margin-top: var(--spacing-sm); }
        .mt-2 { margin-top: var(--spacing-md); }
        .mt-3 { margin-top: var(--spacing-lg); }
        .mt-4 { margin-top: var(--spacing-xl); }
        .mt-5 { margin-top: var(--spacing-2xl); }
        
        .mb-1 { margin-bottom: var(--spacing-sm); }
        .mb-2 { margin-bottom: var(--spacing-md); }
        .mb-3 { margin-bottom: var(--spacing-lg); }
        .mb-4 { margin-bottom: var(--spacing-xl); }
        .mb-5 { margin-bottom: var(--spacing-2xl); }
        
        .mx-auto { margin-left: auto; margin-right: auto; }
        .w-100 { width: 100%; }
        .h-100 { height: 100%; }
        .d-none { display: none; }
        .d-flex { display: flex; }
        .d-block { display: block; }
        .d-inline-block { display: inline-block; }
        .position-relative { position: relative; }
        .position-absolute { position: absolute; }
        .position-fixed { position: fixed; }
        .overflow-hidden { overflow: hidden; }
        .overflow-auto { overflow: auto; }
        .cursor-pointer { cursor: pointer; }
        .cursor-move { cursor: move; }
        .user-select-none { user-select: none; }
        
        .flex-row { flex-direction: row; }
        .flex-column { flex-direction: column; }
        .flex-wrap { flex-wrap: wrap; }
        .flex-nowrap { flex-wrap: nowrap; }
        .justify-start { justify-content: flex-start; }
        .justify-end { justify-content: flex-end; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .align-start { align-items: flex-start; }
        .align-end { align-items: flex-end; }
        .align-center { align-items: center; }
        .align-stretch { align-items: stretch; }
        
        .gap-1 { gap: var(--spacing-sm); }
        .gap-2 { gap: var(--spacing-md); }
        .gap-3 { gap: var(--spacing-lg); }
        .gap-4 { gap: var(--spacing-xl); }

        /* =====================================================
           التجاوب مع الشاشات المختلفة (Responsive)
           ===================================================== */
        @media (max-width: 1200px) {
            :root {
                --font-6xl: 60px;
                --font-5xl: 48px;
                --font-4xl: 36px;
                --spacing-4xl: 60px;
            }
            
            .grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: var(--spacing-xl);
            }
        }

        @media (max-width: 992px) {
            :root {
                --font-6xl: 48px;
                --font-5xl: 40px;
                --font-4xl: 32px;
                --spacing-4xl: 50px;
            }
            
            .contact-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            :root {
                --font-6xl: 40px;
                --font-5xl: 36px;
                --font-4xl: 28px;
                --spacing-4xl: 40px;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .floating-controls {
                top: var(--spacing-lg);
                right: var(--spacing-lg);
            }
            
            body.rtl .floating-controls {
                right: auto;
                left: var(--spacing-lg);
            }
            
            .floating-dev-btn {
                width: 70px;
                height: 70px;
                font-size: var(--font-2xl);
                bottom: var(--spacing-xl);
                right: var(--spacing-xl);
            }
            
            body.rtl .floating-dev-btn {
                right: auto;
                left: var(--spacing-xl);
            }
            
            .dev-window {
                width: 98%;
                padding: var(--spacing-lg);
            }
            
            .button-group {
                grid-template-columns: 1fr;
            }
            
            .toast {
                min-width: 280px;
            }
        }

        @media (max-width: 576px) {
            :root {
                --font-6xl: 36px;
                --font-5xl: 32px;
                --font-4xl: 24px;
                --spacing-4xl: 30px;
            }
            
            .hero h1 {
                font-size: 40px;
            }
            
            .hero .work-time {
                font-size: var(--font-lg);
                padding: var(--spacing-sm) var(--spacing-lg);
            }
            
            .btn {
                padding: var(--spacing-sm) var(--spacing-lg);
                min-width: 140px;
                font-size: var(--font-md);
            }
            
            .modal {
                padding: var(--spacing-lg);
            }
            
            .contact-item {
                flex-direction: column;
                text-align: center;
                padding: var(--spacing-lg);
            }
            
            .contact-icon {
                width: 60px;
                height: 60px;
                font-size: var(--font-2xl);
            }
            
            .contact-text {
                font-size: var(--font-md);
            }
            
            .toast {
                min-width: auto;
                width: 90%;
                right: 5%;
                left: 5%;
            }
            
            .control-btn {
                width: 45px;
                height: 45px;
                font-size: var(--font-xl);
            }
            
            .language-menu {
                min-width: 180px;
            }
        }

        @media (max-width: 380px) {
            .hero h1 {
                font-size: 32px;
            }
            
            .btn {
                min-width: 120px;
                padding: var(--spacing-xs) var(--spacing-md);
            }
            
            .item {
                flex-wrap: wrap;
            }
            
            .item-actions {
                width: 100%;
                justify-content: flex-end;
                margin-top: var(--spacing-xs);
            }
        }

        /* =====================================================
           دعم الشاشات عالية الدقة
           ===================================================== */
        @media (min-width: 1920px) {
            .container {
                max-width: 1600px;
            }
            
            :root {
                --font-6xl: 80px;
                --font-5xl: 60px;
                --font-4xl: 48px;
            }
        }

        @media (min-width: 2560px) {
            .container {
                max-width: 2000px;
            }
            
            :root {
                --font-6xl: 100px;
                --font-5xl: 72px;
                --font-4xl: 56px;
            }
        }

        /* =====================================================
           دعم وضع الطباعة
           ===================================================== */
        @media print {
            .floating-controls,
            .floating-dev-btn,
            .dev-window,
            .modal-overlay,
            .toast-container,
            .delete-card-btn,
            .item-actions {
                display: none !important;
            }
            
            body {
                background: white;
                color: black;
            }
            
            .card {
                break-inside: avoid;
                border: 1px solid #ddd;
                box-shadow: none;
            }
            
            .hero {
                background: none;
                color: black;
                min-height: auto;
            }
        }
    </style>
</head>
<body dir="rtl" data-theme="dark" data-language="ar">

<!-- =====================================================
   نظام إدارة التطبيق المتكامل (Enterprise Architecture)
   ===================================================== -->
<script>
    (function() {
        // =================================================
        // الفئة الرئيسية: إدارة الألوان (Theme Manager)
        // =================================================
        class ThemeManager {
            constructor() {
                this.themes = {
                    dark: {
                        '--primary': '#ff8c00',
                        '--primary-light': '#ffa233',
                        '--primary-dark': '#e67e00',
                        '--secondary': '#6c5ce7',
                        '--secondary-light': '#8a7cf0',
                        '--secondary-dark': '#5a4cc7',
                        '--dark-bg': '#0a0a0a',
                        '--dark-card': '#1e1e1e',
                        '--dark-surface': '#2a2a2a',
                        '--text-light': '#ffffff',
                        '--text-muted': '#888888'
                    },
                    light: {
                        '--primary': '#ff8c00',
                        '--primary-light': '#ffa233',
                        '--primary-dark': '#e67e00',
                        '--secondary': '#6c5ce7',
                        '--secondary-light': '#8a7cf0',
                        '--secondary-dark': '#5a4cc7',
                        '--dark-bg': '#f6f1e8',
                        '--dark-card': '#fffaf3',
                        '--dark-surface': '#ffffff',
                        '--text-light': '#2b2b2b',
                        '--text-muted': '#666666'
                    }
                };
                
                this.currentTheme = 'dark';
                this.observers = [];
            }
            
            setTheme(theme) {
                if (!this.themes[theme]) return false;
                
                const root = document.documentElement;
                const colors = this.themes[theme];
                
                Object.entries(colors).forEach(([key, value]) => {
                    root.style.setProperty(key, value);
                });
                
                document.body.setAttribute('data-theme', theme);
                this.currentTheme = theme;
                localStorage.setItem('theme', theme);
                
                // تحديث أيقونة السمة
                const themeIcon = document.querySelector('#themeToggle i');
                if (themeIcon) {
                    themeIcon.className = theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                }
                
                this.notifyObservers();
                return true;
            }
            
            toggleTheme() {
                const newTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
                this.setTheme(newTheme);
                return newTheme;
            }
            
            subscribe(observer) {
                this.observers.push(observer);
            }
            
            notifyObservers() {
                this.observers.forEach(observer => observer(this.currentTheme));
            }
            
            init() {
                const savedTheme = localStorage.getItem('theme') || 'dark';
                this.setTheme(savedTheme);
            }
        }

        // =================================================
        // الفئة الرئيسية: إدارة اللغات (Language Manager)
        // =================================================
        class LanguageManager {
            constructor(data) {
                this.data = data;
                this.currentLang = 'ar';
                this.observers = [];
                this.rtlLanguages = ['ar', 'fa', 'ur', 'he'];
            }
            
            getText(key, params = {}) {
                const langData = this.data[this.currentLang];
                let text = langData[key] || key;
                
                Object.entries(params).forEach(([param, value]) => {
                    text = text.replace(`{${param}}`, value);
                });
                
                return text;
            }
            
            getAllTexts() {
                return this.data[this.currentLang];
            }
            
            setLanguage(lang) {
                if (!this.data[lang]) return false;
                
                this.currentLang = lang;
                document.body.setAttribute('data-language', lang);
                
                // تحديد اتجاه النص
                const dir = this.rtlLanguages.includes(lang) ? 'rtl' : 'ltr';
                document.body.dir = dir;
                document.body.className = dir;
                
                localStorage.setItem('language', lang);
                
                // تحديث أيقونة اللغة
                const langIcon = document.querySelector('#langToggle i');
                if (langIcon) {
                    langIcon.className = 'fas fa-globe';
                }
                
                this.notifyObservers();
                
                // إظهار رسالة نجاح
                if (window.app && window.app.ui) {
                    window.app.ui.showToast(this.getText('success'), 'success');
                }
                
                return true;
            }
            
            subscribe(observer) {
                this.observers.push(observer);
            }
            
            notifyObservers() {
                this.observers.forEach(observer => observer(this.currentLang));
            }
            
            init() {
                const savedLang = localStorage.getItem('language') || 'ar';
                this.setLanguage(savedLang);
            }
            
            getAvailableLanguages() {
                return Object.keys(this.data);
            }
            
            getLanguageName(lang) {
                const names = {
                    ar: 'العربية',
                    en: 'English',
                    fr: 'Français',
                    de: 'Deutsch',
                    es: 'Español',
                    tr: 'Türkçe',
                    ru: 'Русский',
                    zh: '中文',
                    ja: '日本語',
                    hi: 'हिन्दी'
                };
                return names[lang] || lang;
            }
        }

        // =================================================
        // الفئة الرئيسية: إدارة القائمة (Menu Manager)
        // =================================================
        class MenuManager {
            constructor(langManager) {
                this.langManager = langManager;
                this.menuData = [];
                this.savedImages = new Set();
                this.observers = [];
                this.history = [];
                this.historyIndex = -1;
                this.maxHistory = 50;
                
                // تهيئة البيانات من اللغة الحالية
                this.loadFromLanguage();
            }
            
            loadFromLanguage() {
                const langData = this.langManager.getAllTexts();
                this.menuData = JSON.parse(JSON.stringify(langData.menuData || []));
                
                // جمع الصور المحفوظة
                this.collectImages();
                this.saveToHistory();
            }
            
            collectImages() {
                this.savedImages.clear();
                
                this.menuData.forEach(category => {
                    if (category.image && category.image.trim()) {
                        this.savedImages.add(category.image);
                    }
                    
                    category.items.forEach(item => {
                        if (item.image && item.image.trim()) {
                            this.savedImages.add(item.image);
                        }
                    });
                });
            }
            
            saveToHistory() {
                // إزالة التاريخ المستقبلي إذا كنا في منتصف التاريخ
                if (this.historyIndex < this.history.length - 1) {
                    this.history = this.history.slice(0, this.historyIndex + 1);
                }
                
                // إضافة الحالة الحالية إلى التاريخ
                this.history.push(JSON.parse(JSON.stringify(this.menuData)));
                this.historyIndex++;
                
                // الحد من حجم التاريخ
                if (this.history.length > this.maxHistory) {
                    this.history.shift();
                    this.historyIndex--;
                }
            }
            
            undo() {
                if (this.historyIndex > 0) {
                    this.historyIndex--;
                    this.menuData = JSON.parse(JSON.stringify(this.history[this.historyIndex]));
                    this.collectImages();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            redo() {
                if (this.historyIndex < this.history.length - 1) {
                    this.historyIndex++;
                    this.menuData = JSON.parse(JSON.stringify(this.history[this.historyIndex]));
                    this.collectImages();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            getMenu() {
                return this.menuData;
            }
            
            getCategories() {
                return this.menuData.map(cat => cat.category);
            }
            
            getCategory(index) {
                return this.menuData[index];
            }
            
            addCategory(category) {
                this.menuData.push({
                    category: category.name,
                    image: category.image || '',
                    items: []
                });
                
                if (category.image) this.savedImages.add(category.image);
                this.saveToHistory();
                this.notifyObservers();
                return this.menuData.length - 1;
            }
            
            updateCategory(index, data) {
                if (this.menuData[index]) {
                    this.menuData[index].category = data.name || this.menuData[index].category;
                    
                    if (data.image) {
                        this.menuData[index].image = data.image;
                        this.savedImages.add(data.image);
                    }
                    
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            deleteCategory(index) {
                if (this.menuData[index]) {
                    this.menuData.splice(index, 1);
                    this.collectImages();
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            addItem(categoryIndex, item) {
                if (this.menuData[categoryIndex]) {
                    this.menuData[categoryIndex].items.push({
                        name: item.name,
                        price: parseInt(item.price) || 0,
                        image: item.image || ''
                    });
                    
                    if (item.image) this.savedImages.add(item.image);
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            updateItem(categoryIndex, itemIndex, data) {
                if (this.menuData[categoryIndex]?.items[itemIndex]) {
                    const item = this.menuData[categoryIndex].items[itemIndex];
                    
                    if (data.name) item.name = data.name;
                    if (data.price) item.price = parseInt(data.price);
                    if (data.image !== undefined) {
                        item.image = data.image;
                        if (data.image) this.savedImages.add(data.image);
                    }
                    
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            deleteItem(categoryIndex, itemIndex) {
                if (this.menuData[categoryIndex]?.items[itemIndex]) {
                    this.menuData[categoryIndex].items.splice(itemIndex, 1);
                    this.collectImages();
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            moveItem(categoryIndex, fromIndex, toIndex) {
                if (this.menuData[categoryIndex]?.items[fromIndex] && 
                    toIndex >= 0 && toIndex < this.menuData[categoryIndex].items.length) {
                    
                    const item = this.menuData[categoryIndex].items[fromIndex];
                    this.menuData[categoryIndex].items.splice(fromIndex, 1);
                    this.menuData[categoryIndex].items.splice(toIndex, 0, item);
                    
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            moveCategory(fromIndex, toIndex) {
                if (fromIndex >= 0 && fromIndex < this.menuData.length &&
                    toIndex >= 0 && toIndex < this.menuData.length) {
                    
                    const category = this.menuData[fromIndex];
                    this.menuData.splice(fromIndex, 1);
                    this.menuData.splice(toIndex, 0, category);
                    
                    this.saveToHistory();
                    this.notifyObservers();
                    return true;
                }
                return false;
            }
            
            getSavedImages() {
                return Array.from(this.savedImages);
            }
            
            addImage(url) {
                if (url && url.trim()) {
                    this.savedImages.add(url.trim());
                }
            }
            
            removeImage(url) {
                this.savedImages.delete(url);
            }
            
            subscribe(observer) {
                this.observers.push(observer);
            }
            
            notifyObservers() {
                this.observers.forEach(observer => observer(this.menuData));
            }
            
            exportToJSON() {
                return JSON.stringify(this.menuData, null, 2);
            }
            
            importFromJSON(json) {
                try {
                    const data = JSON.parse(json);
                    if (Array.isArray(data)) {
                        this.menuData = data;
                        this.collectImages();
                        this.saveToHistory();
                        this.notifyObservers();
                        return true;
                    }
                } catch (e) {
                    console.error('Invalid JSON:', e);
                }
                return false;
            }
            
            exportToCSV() {
                const rows = [];
                
                // رأس الملف
                rows.push(['الفئة', 'المنتج', 'السعر', 'صورة المنتج', 'صورة الفئة'].join(','));
                
                this.menuData.forEach(category => {
                    if (category.items.length === 0) {
                        rows.push([category.category, '', '', '', category.image || ''].join(','));
                    } else {
                        category.items.forEach(item => {
                            rows.push([
                                category.category,
                                item.name,
                                item.price,
                                item.image || '',
                                category.image || ''
                            ].join(','));
                        });
                    }
                });
                
                return rows.join('\n');
            }
            
            importFromCSV(csv) {
                try {
                    const lines = csv.split('\n');
                    const newMenu = [];
                    let currentCategory = null;
                    
                    for (let i = 1; i < lines.length; i++) { // تخطي الرأس
                        const line = lines[i].trim();
                        if (!line) continue;
                        
                        const [category, name, price, itemImage, catImage] = line.split(',').map(s => s.trim());
                        
                        if (!currentCategory || currentCategory.category !== category) {
                            currentCategory = {
                                category: category,
                                image: catImage || '',
                                items: []
                            };
                            newMenu.push(currentCategory);
                        }
                        
                        if (name && price) {
                            currentCategory.items.push({
                                name: name,
                                price: parseInt(price) || 0,
                                image: itemImage || ''
                            });
                        }
                    }
                    
                    if (newMenu.length > 0) {
                        this.menuData = newMenu;
                        this.collectImages();
                        this.saveToHistory();
                        this.notifyObservers();
                        return true;
                    }
                } catch (e) {
                    console.error('Invalid CSV:', e);
                }
                return false;
            }
            
            resetToDefault() {
                this.loadFromLanguage();
                this.saveToHistory();
                this.notifyObservers();
            }
            
            search(query) {
                query = query.toLowerCase();
                const results = [];
                
                this.menuData.forEach((category, catIndex) => {
                    if (category.category.toLowerCase().includes(query)) {
                        results.push({
                            type: 'category',
                            category: catIndex,
                            name: category.category
                        });
                    }
                    
                    category.items.forEach((item, itemIndex) => {
                        if (item.name.toLowerCase().includes(query)) {
                            results.push({
                                type: 'item',
                                category: catIndex,
                                item: itemIndex,
                                name: item.name,
                                price: item.price
                            });
                        }
                    });
                });
                
                return results;
            }
            
            getStats() {
                let totalItems = 0;
                let totalPrice = 0;
                
                this.menuData.forEach(category => {
                    totalItems += category.items.length;
                    category.items.forEach(item => {
                        totalPrice += item.price;
                    });
                });
                
                return {
                    categories: this.menuData.length,
                    items: totalItems,
                    averagePrice: totalItems ? (totalPrice / totalItems).toFixed(2) : 0,
                    images: this.savedImages.size
                };
            }
        }

        // =================================================
        // الفئة الرئيسية: إدارة واجهة المستخدم (UI Manager)
        // =================================================
        class UIManager {
            constructor(app) {
                this.app = app;
                this.elements = {};
                this.modals = {};
                this.toastContainer = null;
                this.currentDraggable = null;
                this.isDragging = false;
            }
            
            init() {
                this.createToastContainer();
                this.cacheElements();
                this.setupEventListeners();
                this.setupKeyboardShortcuts();
            }
            
            createToastContainer() {
                this.toastContainer = document.createElement('div');
                this.toastContainer.className = 'toast-container';
                document.body.appendChild(this.toastContainer);
            }
            
            cacheElements() {
                // تخزين المراجع للعناصر المهمة
                this.elements = {
                    menuContainer: document.getElementById('menuContainer'),
                    heroTitle: document.querySelector('.hero h1'),
                    workTime: document.querySelector('.hero .work-time'),
                    scrollBtn: document.querySelector('.hero .btn'),
                    menuTitle: document.querySelector('#menu .section-title'),
                    contactTitle: document.querySelector('#contact .section-title'),
                    phoneElement: document.querySelector('#contact .contact-item:first-child .contact-text'),
                    instagramElement: document.querySelector('#contact .contact-item:nth-child(2) .contact-text a'),
                    locationElement: document.querySelector('#contact .contact-item:last-child .contact-text'),
                    languageMenu: document.getElementById('languageMenu'),
                    devVersionModal: document.getElementById('devVersionModal'),
                    devWindowV1: document.getElementById('devWindowV1'),
                    devWindowV2: document.getElementById('devWindowV2'),
                    confirmModal: document.getElementById('confirmModal'),
                    colorPickerModal: document.getElementById('colorPickerModal'),
                    searchModal: document.getElementById('searchModal'),
                    statsModal: document.getElementById('statsModal'),
                    importModal: document.getElementById('importModal')
                };
            }
            
            setupEventListeners() {
                // إغلاق القوائم عند النقر خارجها
                document.addEventListener('click', (e) => {
                    if (this.elements.languageMenu && 
                        !e.target.closest('#langToggle') && 
                        !e.target.closest('.language-menu')) {
                        this.elements.languageMenu.style.display = 'none';
                    }
                });
                
                // إغلاق النوافذ المشروطة بالضغط على ESC
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeAllModals();
                    }
                });
                
                // منع السحب الافتراضي للصور
                document.querySelectorAll('img').forEach(img => {
                    img.addEventListener('dragstart', (e) => e.preventDefault());
                });
            }
            
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl+Z للتراجع
                    if (e.ctrlKey && e.key === 'z') {
                        e.preventDefault();
                        this.app.menuManager.undo();
                        this.showToast(this.app.langManager.getText('undo'), 'info');
                    }
                    
                    // Ctrl+Y للإعادة
                    if (e.ctrlKey && e.key === 'y') {
                        e.preventDefault();
                        this.app.menuManager.redo();
                        this.showToast(this.app.langManager.getText('redo'), 'info');
                    }
                    
                    // Ctrl+F للبحث
                    if (e.ctrlKey && e.key === 'f') {
                        e.preventDefault();
                        this.openSearchModal();
                    }
                    
                    // Ctrl+S للحفظ
                    if (e.ctrlKey && e.key === 's') {
                        e.preventDefault();
                        this.app.menuOperations.saveToFile();
                    }
                    
                    // Ctrl+L لتغيير اللغة
                    if (e.ctrlKey && e.key === 'l') {
                        e.preventDefault();
                        this.toggleLanguageMenu();
                    }
                    
                    // Ctrl+D للوضع الداكن/الفاتح
                    if (e.ctrlKey && e.key === 'd') {
                        e.preventDefault();
                        this.app.toggleTheme();
                    }
                });
            }
            
            closeAllModals() {
                document.querySelectorAll('.modal-overlay, .dev-window').forEach(modal => {
                    modal.style.display = 'none';
                });
                
                if (this.elements.languageMenu) {
                    this.elements.languageMenu.style.display = 'none';
                }
            }
            
            // =============================================
            // تحديث النصوص حسب اللغة
            // =============================================
            updateTexts() {
                const texts = this.app.langManager.getAllTexts();
                
                // تحديث عنوان الصفحة
                document.title = texts.pageTitle;
                
                // تحديث القسم الرئيسي
                if (this.elements.heroTitle) {
                    this.elements.heroTitle.textContent = texts.heroTitle;
                }
                
                if (this.elements.workTime) {
                    this.elements.workTime.textContent = texts.workTime;
                }
                
                if (this.elements.scrollBtn) {
                    this.elements.scrollBtn.textContent = texts.scrollBtn;
                }
                
                // تحديث عنوان القائمة
                if (this.elements.menuTitle) {
                    this.elements.menuTitle.textContent = texts.menuTitle;
                }
                
                // تحديث قسم الاتصال
                if (this.elements.contactTitle) {
                    this.elements.contactTitle.textContent = texts.contactTitle;
                }
                
                if (this.elements.phoneElement) {
                    this.elements.phoneElement.innerHTML = `<i class="fas fa-phone-alt"></i> ${texts.phone}`;
                }
                
                if (this.elements.instagramElement) {
                    this.elements.instagramElement.innerHTML = `<i class="fab fa-instagram"></i> ${texts.instagram}`;
                }
                
                if (this.elements.locationElement) {
                    this.elements.locationElement.innerHTML = `<i class="fas fa-map-marker-alt"></i> ${texts.location}`;
                }
                
                // تحديث النوافذ المفتوحة
                if (this.elements.devWindowV1.style.display === 'block') {
                    this.renderDevWindowV1();
                }
                
                if (this.elements.devWindowV2.style.display === 'block') {
                    this.renderDevWindowV2();
                }
                
                if (this.elements.searchModal.style.display === 'flex') {
                    this.renderSearchModal();
                }
                
                if (this.elements.statsModal.style.display === 'flex') {
                    this.renderStatsModal();
                }
            }
            
            // =============================================
            // عرض القائمة
            // =============================================
            renderMenu() {
                const menuData = this.app.menuManager.getMenu();
                const container = this.elements.menuContainer;
                
                if (!container) return;
                
                let html = '';
                
                menuData.forEach((category, catIndex) => {
                    html += `
                        <div class="card" data-category="${catIndex}" data-category-name="${category.category}">
                            ${category.image ? `
                                <div class="card-image-container">
                                    <img src="${category.image}" alt="${category.category}" class="card-image" 
                                         loading="lazy"
                                         onerror="this.src='https://via.placeholder.com/400x200?text=${encodeURIComponent(category.category)}'">
                                </div>
                            ` : ''}
                            
                            <div class="card-header">
                                <h3>${category.category}</h3>
                            </div>
                            
                            <div class="card-body">
                                <div class="items-container">
                    `;
                    
                    category.items.forEach((item, itemIndex) => {
                        html += `
                            <div class="item ${item.image ? 'has-image' : ''}" 
                                 data-category="${catIndex}" 
                                 data-item="${itemIndex}"
                                 onclick="app.ui.showItemOptions(${catIndex}, ${itemIndex})">
                                ${item.image ? `
                                    <img src="${item.image}" alt="${item.name}" class="item-image" loading="lazy"
                                         onerror="this.src='https://via.placeholder.com/60x60?text=${encodeURIComponent(item.name)}'">
                                ` : ''}
                                
                                <div class="item-info">
                                    <span class="item-name">${item.name}</span>
                                </div>
                                
                                <span class="item-price">${item.price} ₺</span>
                                
                                <div class="item-actions" onclick="event.stopPropagation()">
                                    <button class="item-edit-btn" onclick="app.ui.editItem(${catIndex}, ${itemIndex})" title="${this.app.langManager.getText('edit')}">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="item-delete-btn" onclick="app.ui.deleteItem(${catIndex}, ${itemIndex})" title="${this.app.langManager.getText('delete')}">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        `;
                    });
                    
                    html += `
                                </div>
                            </div>
                            <button class="delete-card-btn" onclick="app.ui.deleteCategory(${catIndex})" title="${this.app.langManager.getText('deleteCategory')}">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                });
                
                container.innerHTML = html;
            }
            
            // =============================================
            // عرض نافذة المطور V1
            // =============================================
            renderDevWindowV1() {
                const texts = this.app.langManager.getAllTexts();
                const menuData = this.app.menuManager.getMenu();
                const stats = this.app.menuManager.getStats();
                
                let categoryOptions = '';
                menuData.forEach((cat, index) => {
                    categoryOptions += `<option value="${index}">${cat.category}</option>`;
                });
                
                const html = `
                    <div class="window-header">
                        <h3><i class="fas fa-cog"></i> ${texts.v1Title}</h3>
                        <button class="modal-close" onclick="app.ui.closeDevWindows()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="dev-section">
                        <h4><i class="fas fa-chart-bar"></i> ${texts.stats}</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--spacing-md);">
                            <div class="stat-item">
                                <div style="font-size: var(--font-xs); color: var(--text-muted);">${texts.categories}</div>
                                <div style="font-size: var(--font-xl); font-weight: bold; color: var(--primary);">${stats.categories}</div>
                            </div>
                            <div class="stat-item">
                                <div style="font-size: var(--font-xs); color: var(--text-muted);">${texts.items}</div>
                                <div style="font-size: var(--font-xl); font-weight: bold; color: var(--primary);">${stats.items}</div>
                            </div>
                            <div class="stat-item">
                                <div style="font-size: var(--font-xs); color: var(--text-muted);">${texts.averagePrice}</div>
                                <div style="font-size: var(--font-xl); font-weight: bold; color: var(--primary);">${stats.averagePrice} ₺</div>
                            </div>
                            <div class="stat-item">
                                <div style="font-size: var(--font-xs); color: var(--text-muted);">${texts.images}</div>
                                <div style="font-size: var(--font-xl); font-weight: bold; color: var(--primary);">${stats.images}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dev-section">
                        <h4><i class="fas fa-plus-circle"></i> ${texts.addProduct}</h4>
                        <div class="form-group">
                            <label class="form-label">${texts.categorySelect}</label>
                            <select id="v1CategorySelect" class="form-control">${categoryOptions}</select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">${texts.productName}</label>
                            <input type="text" id="v1ProductName" class="form-control" placeholder="${texts.productName}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">${texts.price}</label>
                            <input type="number" id="v1ProductPrice" class="form-control" placeholder="${texts.price}">
                        </div>
                        <button class="btn btn-success btn-block" onclick="app.menuOperations.addProductV1()">
                            <i class="fas fa-check"></i> ${texts.addProductBtn}
                        </button>
                    </div>
                    
                    <div class="dev-section">
                        <h4><i class="fas fa-folder-plus"></i> ${texts.addCategory}</h4>
                        <div class="form-group">
                            <label class="form-label">${texts.newCategory}</label>
                            <input type="text" id="v1CategoryName" class="form-control" placeholder="${texts.newCategory}">
                        </div>
                        <button class="btn btn-success btn-block" onclick="app.menuOperations.addCategoryV1()">
                            <i class="fas fa-folder-plus"></i> ${texts.addCategoryBtn}
                        </button>
                    </div>
                    
                    <div class="dev-section">
                        <h4><i class="fas fa-palette"></i> ${texts.colorEdit}</h4>
                        <button class="btn btn-primary btn-block" onclick="app.ui.openColorPicker()">
                            <i class="fas fa-palette"></i> ${texts.colorEdit}
                        </button>
                    </div>
                    
                    <div class="dev-section">
                        <h4><i class="fas fa-tools"></i> ${texts.tools}</h4>
                        <div class="button-group">
                            <button class="btn btn-warning" onclick="app.menuOperations.exportToFile()">
                                <i class="fas fa-download"></i> ${texts.export}
                            </button>
                            <button class="btn btn-info" onclick="app.ui.openImportModal()">
                                <i class="fas fa-upload"></i> ${texts.import}
                            </button>
                        </div>
                        <div class="button-group">
                            <button class="btn btn-secondary" onclick="app.menuOperations.copyMenuCode()">
                                <i class="fas fa-copy"></i> ${texts.copyCode}
                            </button>
                            <button class="btn btn-danger" onclick="app.ui.confirmDeleteAll()">
                                <i class="fas fa-trash"></i> ${texts.deleteAll}
                            </button>
                        </div>
                        <div class="button-group">
                            <button class="btn btn-info" onclick="app.menuManager.undo()">
                                <i class="fas fa-undo"></i> ${texts.undo}
                            </button>
                            <button class="btn btn-info" onclick="app.menuManager.redo()">
                                <i class="fas fa-redo"></i> ${texts.redo}
                            </button>
                        </div>
                    </div>
                    
                    <div class="dev-section">
                        <h4><i class="fas fa-code"></i> ${texts.currentMenuCode}</h4>
                        <div class="code-display" id="menuCodeDisplayV1">${this.app.menuManager.exportToJSON()}</div>
                    </div>
                    
                    <button class="btn btn-danger btn-block" onclick="app.ui.closeDevWindows()">
                        <i class="fas fa-times"></i> ${texts.closePanel}
                    </button>
                `;
                
                this.elements.devWindowV1.innerHTML = html;
                this.makeDraggable(this.elements.devWindowV1);
            }
            
            // =============================================
            // عرض نافذة المطور V2
            // =============================================
            renderDevWindowV2() {
                const texts = this.app.langManager.getAllTexts();
                const menuData = this.app.menuManager.getMenu();
                const savedImages = this.app.menuManager.getSavedImages();
                
                let categoryOptions = '';
                menuData.forEach((cat, index) => {
                    categoryOptions += `<option value="${index}">${cat.category}</option>`;
                });
                
                let imageList = '';
                savedImages.forEach((url, index) => {
                    imageList += `
                        <div class="image-url-item">
                            <span title="${url}">${url.substring(0, 60)}...</span>
                            <div>
                                <button class="btn btn-sm btn-success" onclick="app.menuOperations.useImageUrl('${url}')" title="${texts.useImage}">
                                    <i class="fas fa-check"></i>
                                </button>
                                <button class="btn btn-sm btn-danger" onclick="app.menuOperations.deleteImageUrl('${url}')" title="${texts.deleteImage}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                const html = `
                    <div class="window-header">
                        <h3><i class="fas fa-paint-brush"></i> ${texts.v2Title}</h3>
                        <button class="modal-close" onclick="app.ui.closeDevWindows()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="dev-section v2">
                        <h4><i class="fas fa-folder-plus"></i> ${texts.addCategoryImage}</h4>
                        <div class="form-group">
                            <label class="form-label">${texts.categoryName}</label>
                            <input type="text" id="v2CategoryName" class="form-control" placeholder="${texts.categoryName}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">${texts.categoryImageUrl}</label>
                            <input type="text" id="v2CategoryImage" class="form-control" placeholder="${texts.categoryImageUrl}">
                        </div>
                        <button class="btn btn-success btn-block" onclick="app.menuOperations.addCategoryV2()">
                            <i class="fas fa-folder-plus"></i> ${texts.addCategoryImageBtn}
                        </button>
                    </div>
                    
                    <div class="dev-section v2">
                        <h4><i class="fas fa-plus-circle"></i> ${texts.addProductWithImage}</h4>
                        <div class="form-group">
                            <label class="form-label">${texts.categorySelect}</label>
                            <select id="v2CategorySelect" class="form-control">${categoryOptions}</select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">${texts.productName}</label>
                            <input type="text" id="v2ProductName" class="form-control" placeholder="${texts.productName}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">${texts.price}</label>
                            <input type="number" id="v2ProductPrice" class="form-control" placeholder="${texts.price}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">${texts.productImageUrl}</label>
                            <input type="text" id="v2ProductImage" class="form-control" placeholder="${texts.productImageUrl}">
                        </div>
                        <button class="btn btn-success btn-block" onclick="app.menuOperations.addProductV2()">
                            <i class="fas fa-check"></i> ${texts.addProductBtn}
                        </button>
                    </div>
                    
                    <div class="dev-section v2">
                        <h4><i class="fas fa-images"></i> ${texts.manageImages}</h4>
                        <div class="image-url-list">
                            ${imageList || `<p class="text-center text-muted">${texts.noImages}</p>`}
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">${texts.addImageUrl}</label>
                            <input type="text" id="newImageUrl" class="form-control" placeholder="${texts.newImageUrl}">
                        </div>
                        <button class="btn btn-secondary btn-block" onclick="app.menuOperations.addImageUrl()">
                            <i class="fas fa-plus"></i> ${texts.addUrl}
                        </button>
                    </div>
                    
                    <div class="dev-section v2">
                        <h4><i class="fas fa-code"></i> ${texts.currentMenuCode}</h4>
                        <div class="code-display" id="menuCodeDisplayV2">${this.app.menuManager.exportToJSON()}</div>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-success" onclick="app.menuOperations.saveAllChanges()">
                            <i class="fas fa-save"></i> ${texts.saveChanges}
                        </button>
                        <button class="btn btn-danger" onclick="app.ui.closeDevWindows()">
                            <i class="fas fa-times"></i> ${texts.closePanel}
                        </button>
                    </div>
                `;
                
                this.elements.devWindowV2.innerHTML = html;
                this.makeDraggable(this.elements.devWindowV2);
            }
            
            // =============================================
            // نافذة البحث
            // =============================================
            renderSearchModal() {
                const texts = this.app.langManager.getAllTexts();
                
                const html = `
                    <div class="modal">
                        <div class="modal-header">
                            <h3><i class="fas fa-search"></i> ${texts.search}</h3>
                            <button class="modal-close" onclick="app.ui.closeSearchModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <input type="text" id="searchInput" class="form-control" placeholder="${texts.searchPlaceholder}" autofocus>
                            </div>
                            <div id="searchResults" style="max-height: 300px; overflow-y: auto;"></div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="app.ui.closeSearchModal()">
                                <i class="fas fa-times"></i> ${texts.close}
                            </button>
                        </div>
                    </div>
                `;
                
                this.elements.searchModal.innerHTML = html;
                
                // إضافة مستمع للبحث
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        this.performSearch(e.target.value);
                    });
                }
            }
            
            performSearch(query) {
                if (!query.trim()) {
                    document.getElementById('searchResults').innerHTML = '';
                    return;
                }
                
                const results = this.app.menuManager.search(query);
                const texts = this.app.langManager.getAllTexts();
                
                let html = '<div style="margin-top: var(--spacing-md);">';
                
                if (results.length === 0) {
                    html += `<p class="text-center text-muted">${texts.noResults}</p>`;
                } else {
                    results.forEach(result => {
                        if (result.type === 'category') {
                            html += `
                                <div class="search-result-item" style="padding: var(--spacing-md); background: rgba(255,140,0,0.1); border-radius: var(--radius-md); margin-bottom: var(--spacing-sm); cursor: pointer;" onclick="app.ui.scrollToCategory(${result.category})">
                                    <i class="fas fa-folder" style="color: var(--primary);"></i>
                                    <span style="margin-right: var(--spacing-sm);">${result.name}</span>
                                </div>
                            `;
                        } else {
                            html += `
                                <div class="search-result-item" style="padding: var(--spacing-md); background: rgba(0,0,0,0.2); border-radius: var(--radius-md); margin-bottom: var(--spacing-sm); cursor: pointer;" onclick="app.ui.scrollToItem(${result.category}, ${result.item})">
                                    <i class="fas fa-cutlery" style="color: var(--primary);"></i>
                                    <span style="margin-right: var(--spacing-sm);">${result.name}</span>
                                    <span style="float: left; color: var(--primary);">${result.price} ₺</span>
                                </div>
                            `;
                        }
                    });
                }
                
                html += '</div>';
                document.getElementById('searchResults').innerHTML = html;
            }
            
            scrollToCategory(catIndex) {
                const card = document.querySelector(`[data-category="${catIndex}"]`);
                if (card) {
                    card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    card.style.animation = 'pulse 1s';
                    setTimeout(() => {
                        card.style.animation = '';
                    }, 1000);
                }
                this.closeSearchModal();
            }
            
            scrollToItem(catIndex, itemIndex) {
                const item = document.querySelector(`[data-category="${catIndex}"][data-item="${itemIndex}"]`);
                if (item) {
                    item.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    item.style.animation = 'pulse 1s';
                    setTimeout(() => {
                        item.style.animation = '';
                    }, 1000);
                }
                this.closeSearchModal();
            }
            
            // =============================================
            // نافذة الإحصائيات
            // =============================================
            renderStatsModal() {
                const texts = this.app.langManager.getAllTexts();
                const stats = this.app.menuManager.getStats();
                
                const html = `
                    <div class="modal">
                        <div class="modal-header">
                            <h3><i class="fas fa-chart-bar"></i> ${texts.statistics}</h3>
                            <button class="modal-close" onclick="app.ui.closeStatsModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--spacing-lg);">
                                <div style="text-align: center; padding: var(--spacing-lg); background: rgba(255,140,0,0.1); border-radius: var(--radius-lg);">
                                    <div style="font-size: var(--font-3xl); font-weight: bold; color: var(--primary);">${stats.categories}</div>
                                    <div style="font-size: var(--font-sm); color: var(--text-muted);">${texts.categories}</div>
                                </div>
                                <div style="text-align: center; padding: var(--spacing-lg); background: rgba(108,92,231,0.1); border-radius: var(--radius-lg);">
                                    <div style="font-size: var(--font-3xl); font-weight: bold; color: var(--secondary);">${stats.items}</div>
                                    <div style="font-size: var(--font-sm); color: var(--text-muted);">${texts.items}</div>
                                </div>
                                <div style="text-align: center; padding: var(--spacing-lg); background: rgba(40,167,69,0.1); border-radius: var(--radius-lg);">
                                    <div style="font-size: var(--font-3xl); font-weight: bold; color: var(--success);">${stats.averagePrice} ₺</div>
                                    <div style="font-size: var(--font-sm); color: var(--text-muted);">${texts.averagePrice}</div>
                                </div>
                                <div style="text-align: center; padding: var(--spacing-lg); background: rgba(23,162,184,0.1); border-radius: var(--radius-lg);">
                                    <div style="font-size: var(--font-3xl); font-weight: bold; color: var(--info);">${stats.images}</div>
                                    <div style="font-size: var(--font-sm); color: var(--text-muted);">${texts.images}</div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="app.ui.closeStatsModal()">
                                <i class="fas fa-times"></i> ${texts.close}
                            </button>
                        </div>
                    </div>
                `;
                
                this.elements.statsModal.innerHTML = html;
            }
            
            // =============================================
            // نافذة الاستيراد
            // =============================================
            renderImportModal() {
                const texts = this.app.langManager.getAllTexts();
                
                const html = `
                    <div class="modal">
                        <div class="modal-header">
                            <h3><i class="fas fa-upload"></i> ${texts.import}</h3>
                            <button class="modal-close" onclick="app.ui.closeImportModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label class="form-label">${texts.importJson}</label>
                                <textarea id="importJson" class="form-control" placeholder="${texts.pasteJsonHere}" rows="10"></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">${texts.importCsv}</label>
                                <textarea id="importCsv" class="form-control" placeholder="${texts.pasteCsvHere}" rows="10"></textarea>
                            </div>
                            <div class="button-group">
                                <button class="btn btn-success" onclick="app.menuOperations.importFromJson()">
                                    <i class="fas fa-file-code"></i> ${texts.importJson}
                                </button>
                                <button class="btn btn-info" onclick="app.menuOperations.importFromCsv()">
                                    <i class="fas fa-file-csv"></i> ${texts.importCsv}
                                </button>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-danger" onclick="app.ui.closeImportModal()">
                                <i class="fas fa-times"></i> ${texts.close}
                            </button>
                        </div>
                    </div>
                `;
                
                this.elements.importModal.innerHTML = html;
            }
            
            // =============================================
            // جعل النافذة قابلة للسحب
            // =============================================
            makeDraggable(element) {
                const header = element.querySelector('.window-header');
                if (!header) return;
                
                let offsetX, offsetY;
                
                header.addEventListener('mousedown', (e) => {
                    if (e.target.closest('button')) return;
                    
                    this.isDragging = true;
                    this.currentDraggable = element;
                    
                    const rect = element.getBoundingClientRect();
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;
                    
                    element.style.transition = 'none';
                    element.style.cursor = 'grabbing';
                    
                    e.preventDefault();
                });
                
                document.addEventListener('mousemove', (e) => {
                    if (!this.isDragging || this.currentDraggable !== element) return;
                    
                    const x = e.clientX - offsetX;
                    const y = e.clientY - offsetY;
                    
                    // منع الخروج عن الشاشة
                    const maxX = window.innerWidth - element.offsetWidth;
                    const maxY = window.innerHeight - element.offsetHeight;
                    
                    element.style.left = `${Math.max(0, Math.min(x, maxX))}px`;
                    element.style.top = `${Math.max(0, Math.min(y, maxY))}px`;
                    element.style.transform = 'none';
                });
                
                document.addEventListener('mouseup', () => {
                    if (this.isDragging && this.currentDraggable === element) {
                        this.isDragging = false;
                        this.currentDraggable = null;
                        element.style.transition = '';
                        element.style.cursor = '';
                    }
                });
            }
            
            // =============================================
            // عرض رسالة Toast
            // =============================================
            showToast(message, type = 'success', duration = 3000) {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                
                let icon = '';
                switch(type) {
                    case 'success':
                        icon = '<i class="fas fa-check-circle"></i>';
                        break;
                    case 'error':
                        icon = '<i class="fas fa-exclamation-circle"></i>';
                        break;
                    case 'warning':
                        icon = '<i class="fas fa-exclamation-triangle"></i>';
                        break;
                    default:
                        icon = '<i class="fas fa-info-circle"></i>';
                }
                
                toast.innerHTML = `
                    <div class="toast-icon">${icon}</div>
                    <div class="toast-message">${message}</div>
                    <div class="toast-close" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </div>
                `;
                
                this.toastContainer.appendChild(toast);
                
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.style.animation = 'fadeOut 0.3s ease forwards';
                        setTimeout(() => toast.remove(), 300);
                    }
                }, duration);
            }
            
            // =============================================
            // فتح وإغلاق النوافذ
            // =============================================
            toggleLanguageMenu() {
                const menu = this.elements.languageMenu;
                if (menu) {
                    if (menu.style.display === 'flex') {
                        menu.style.display = 'none';
                    } else {
                        // بناء قائمة اللغات
                        const languages = this.app.langManager.getAvailableLanguages();
                        let html = '';
                        
                        languages.forEach(lang => {
                            html += `
                                <button class="language-btn" onclick="app.setLanguage('${lang}')">
                                    <span>${this.app.langManager.getLanguageName(lang)}</span>
                                </button>
                            `;
                        });
                        
                        menu.innerHTML = html;
                        menu.style.display = 'flex';
                    }
                }
            }
            
            showVersionModal() {
                const texts = this.app.langManager.getAllTexts();
                const modal = this.elements.devVersionModal;
                
                document.getElementById('devModalTitle').textContent = texts.devModalTitle;
                document.getElementById('devModalDesc').textContent = texts.devModalDesc;
                document.getElementById('devV1Btn').innerHTML = `<i class="fas fa-cog"></i> ${texts.devV1Btn}`;
                document.getElementById('devV2Btn').innerHTML = `<i class="fas fa-paint-brush"></i> ${texts.devV2Btn}`;
                document.getElementById('devCloseBtn').innerHTML = `<i class="fas fa-times"></i> ${texts.devCloseBtn}`;
                
                modal.style.display = 'flex';
            }
            
            hideVersionModal() {
                this.elements.devVersionModal.style.display = 'none';
            }
            
            showV1Panel() {
                this.hideVersionModal();
                this.renderDevWindowV1();
                this.elements.devWindowV1.style.display = 'block';
            }
            
            showV2Panel() {
                this.hideVersionModal();
                this.renderDevWindowV2();
                this.elements.devWindowV2.style.display = 'block';
            }
            
            closeDevWindows() {
                this.elements.devWindowV1.style.display = 'none';
                this.elements.devWindowV2.style.display = 'none';
            }
            
            openColorPicker() {
                const texts = this.app.langManager.getAllTexts();
                const modal = this.elements.colorPickerModal;
                
                document.getElementById('colorPickerTitle').textContent = texts.colorTitle;
                document.getElementById('applyColorsBtn').innerHTML = `<i class="fas fa-check"></i> ${texts.colorApply}`;
                document.getElementById('closeColorPickerBtn').innerHTML = `<i class="fas fa-times"></i> ${texts.colorClose}`;
                
                modal.style.display = 'flex';
            }
            
            closeColorPicker() {
                this.elements.colorPickerModal.style.display = 'none';
            }
            
            openSearchModal() {
                this.renderSearchModal();
                this.elements.searchModal.style.display = 'flex';
                
                // التركيز على حقل البحث
                setTimeout(() => {
                    document.getElementById('searchInput')?.focus();
                }, 100);
            }
            
            closeSearchModal() {
                this.elements.searchModal.style.display = 'none';
            }
            
            openStatsModal() {
                this.renderStatsModal();
                this.elements.statsModal.style.display = 'flex';
            }
            
            closeStatsModal() {
                this.elements.statsModal.style.display = 'none';
            }
            
            openImportModal() {
                this.renderImportModal();
                this.elements.importModal.style.display = 'flex';
            }
            
            closeImportModal() {
                this.elements.importModal.style.display = 'none';
            }
            
            // =============================================
            // عمليات القائمة
            // =============================================
            showItemOptions(catIndex, itemIndex) {
                const texts = this.app.langManager.getAllTexts();
                const item = this.app.menuManager.getCategory(catIndex).items[itemIndex];
                
                // يمكن إضافة قائمة منبثقة للخيارات
                console.log('Item clicked:', item);
            }
            
            editItem(catIndex, itemIndex) {
                const texts = this.app.langManager.getAllTexts();
                const item = this.app.menuManager.getCategory(catIndex).items[itemIndex];
                
                const newName = prompt(texts.productName, item.name);
                if (newName !== null) {
                    const newPrice = prompt(texts.price, item.price);
                    if (newPrice !== null) {
                        const newImage = prompt(texts.productImageUrl, item.image || '');
                        this.app.menuManager.updateItem(catIndex, itemIndex, {
                            name: newName,
                            price: newPrice,
                            image: newImage
                        });
                        this.showToast(texts.updated, 'success');
                    }
                }
            }
            
            deleteItem(catIndex, itemIndex) {
                const texts = this.app.langManager.getAllTexts();
                
                if (confirm(texts.confirmTitle)) {
                    this.app.menuManager.deleteItem(catIndex, itemIndex);
                    this.showToast(texts.deleted, 'success');
                }
            }
            
            deleteCategory(catIndex) {
                const texts = this.app.langManager.getAllTexts();
                
                if (confirm(texts.confirmTitle)) {
                    this.app.menuManager.deleteCategory(catIndex);
                    this.showToast(texts.deleted, 'success');
                }
            }
            
            confirmDeleteAll() {
                const texts = this.app.langManager.getAllTexts();
                const modal = this.elements.confirmModal;
                
                document.getElementById('confirmTitle').textContent = texts.confirmTitle;
                document.getElementById('confirmYes').innerHTML = `<i class="fas fa-check"></i> ${texts.confirmYes}`;
                document.getElementById('confirmNo').innerHTML = `<i class="fas fa-times"></i> ${texts.confirmNo}`;
                
                modal.style.display = 'flex';
                
                window.confirmDeleteAllAction = () => {
                    this.app.menuManager.menuData = [];
                    this.app.menuManager.notifyObservers();
                    modal.style.display = 'none';
                    this.showToast(texts.deleted, 'success');
                };
            }
            
            closeConfirmModal() {
                this.elements.confirmModal.style.display = 'none';
            }
            
            showLoading(message = 'جاري التحميل...') {
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'loading-overlay';
                loadingDiv.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.7);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 9999;
                    backdrop-filter: blur(5px);
                `;
                
                loadingDiv.innerHTML = `
                    <div style="text-align: center;">
                        <div class="spinner spinner-lg" style="margin: 0 auto 20px;"></div>
                        <div style="color: var(--primary); font-size: var(--font-lg);">${message}</div>
                    </div>
                `;
                
                document.body.appendChild(loadingDiv);
                return loadingDiv;
            }
            
            hideLoading(loadingDiv) {
                if (loadingDiv && loadingDiv.parentElement) {
                    loadingDiv.remove();
                }
            }
        }

        // =================================================
        // الفئة الرئيسية: عمليات القائمة (Menu Operations)
        // =================================================
        class MenuOperations {
            constructor(app) {
                this.app = app;
            }
            
            // عمليات V1
            addProductV1() {
                const texts = this.app.langManager.getAllTexts();
                const categoryIndex = document.getElementById('v1CategorySelect')?.value;
                const productName = document.getElementById('v1ProductName')?.value;
                const productPrice = document.getElementById('v1ProductPrice')?.value;
                
                if (!categoryIndex || !productName || !productPrice) {
                    this.app.ui.showToast(texts.error, 'error');
                    return;
                }
                
                this.app.menuManager.addItem(parseInt(categoryIndex), {
                    name: productName,
                    price: productPrice
                });
                
                // مسح الحقول
                document.getElementById('v1ProductName').value = '';
                document.getElementById('v1ProductPrice').value = '';
                
                this.app.ui.showToast(texts.added, 'success');
            }
            
            addCategoryV1() {
                const texts = this.app.langManager.getAllTexts();
                const categoryName = document.getElementById('v1CategoryName')?.value;
                
                if (!categoryName) {
                    this.app.ui.showToast(texts.error, 'error');
                    return;
                }
                
                this.app.menuManager.addCategory({ name: categoryName });
                
                // مسح الحقل
                document.getElementById('v1CategoryName').value = '';
                
                this.app.ui.showToast(texts.added, 'success');
            }
            
            // عمليات V2
            addCategoryV2() {
                const texts = this.app.langManager.getAllTexts();
                const categoryName = document.getElementById('v2CategoryName')?.value;
                const categoryImage = document.getElementById('v2CategoryImage')?.value;
                
                if (!categoryName) {
                    this.app.ui.showToast(texts.error, 'error');
                    return;
                }
                
                this.app.menuManager.addCategory({
                    name: categoryName,
                    image: categoryImage
                });
                
                // مسح الحقول
                document.getElementById('v2CategoryName').value = '';
                document.getElementById('v2CategoryImage').value = '';
                
                this.app.ui.showToast(texts.added, 'success');
            }
            
            addProductV2() {
                const texts = this.app.langManager.getAllTexts();
                const categoryIndex = document.getElementById('v2CategorySelect')?.value;
                const productName = document.getElementById('v2ProductName')?.value;
                const productPrice = document.getElementById('v2ProductPrice')?.value;
                const productImage = document.getElementById('v2ProductImage')?.value;
                
                if (!categoryIndex || !productName || !productPrice) {
                    this.app.ui.showToast(texts.error, 'error');
                    return;
                }
                
                this.app.menuManager.addItem(parseInt(categoryIndex), {
                    name: productName,
                    price: productPrice,
                    image: productImage
                });
                
                // مسح الحقول
                document.getElementById('v2ProductName').value = '';
                document.getElementById('v2ProductPrice').value = '';
                document.getElementById('v2ProductImage').value = '';
                
                this.app.ui.showToast(texts.added, 'success');
            }
            
            // عمليات الصور
            useImageUrl(url) {
                const input = document.getElementById('v2ProductImage');
                if (input) {
                    input.value = url;
                    this.app.ui.showToast(this.app.langManager.getText('imageSelected'), 'success');
                }
            }
            
            addImageUrl() {
                const texts = this.app.langManager.getAllTexts();
                const url = document.getElementById('newImageUrl')?.value;
                
                if (url && url.trim()) {
                    this.app.menuManager.addImage(url.trim());
                    this.app.ui.renderDevWindowV2();
                    document.getElementById('newImageUrl').value = '';
                    this.app.ui.showToast(texts.added, 'success');
                } else {
                    this.app.ui.showToast(texts.error, 'error');
                }
            }
            
            deleteImageUrl(url) {
                const texts = this.app.langManager.getAllTexts();
                this.app.menuManager.removeImage(url);
                this.app.ui.renderDevWindowV2();
                this.app.ui.showToast(texts.deleted, 'success');
            }
            
            // عمليات عامة
            copyMenuCode() {
                const texts = this.app.langManager.getAllTexts();
                const code = this.app.menuManager.exportToJSON();
                
                navigator.clipboard.writeText(code).then(() => {
                    this.app.ui.showToast(texts.copied, 'success');
                }).catch(() => {
                    this.app.ui.showToast(texts.error, 'error');
                });
            }
            
            saveAllChanges() {
                const texts = this.app.langManager.getAllTexts();
                this.app.menuManager.notifyObservers();
                this.app.ui.showToast(texts.updated, 'success');
            }
            
            applyColors() {
                const texts = this.app.langManager.getAllTexts();
                const categoryColor = document.getElementById('categoryColor')?.value || '#ff8c00';
                const nameColor = document.getElementById('nameColor')?.value || '#ff8c00';
                const priceColor = document.getElementById('priceColor')?.value || '#ffffff';
                
                document.documentElement.style.setProperty('--primary', categoryColor);
                
                const style = document.createElement('style');
                style.id = 'custom-colors';
                style.textContent = `
                    .item-name { color: ${nameColor} !important; }
                    .item-price { 
                        color: ${priceColor} !important; 
                        background: ${categoryColor}20 !important;
                        border-color: ${categoryColor} !important;
                    }
                    .card-header h3 { color: ${categoryColor} !important; }
                    .section-title { color: ${categoryColor} !important; }
                    .btn { background: ${categoryColor} !important; }
                `;
                
                // إزالة النمط القديم إذا وجد
                const oldStyle = document.getElementById('custom-colors');
                if (oldStyle) oldStyle.remove();
                
                document.head.appendChild(style);
                
                this.app.ui.closeColorPicker();
                this.app.ui.showToast(texts.updated, 'success');
            }
            
            exportToFile() {
                const texts = this.app.langManager.getAllTexts();
                const data = this.app.menuManager.exportToJSON();
                const blob = new Blob([data], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `menu-${new Date().toISOString().slice(0,10)}.json`;
                a.click();
                URL.revokeObjectURL(url);
                this.app.ui.showToast(texts.exported, 'success');
            }
            
            importFromJson() {
                const texts = this.app.langManager.getAllTexts();
                const json = document.getElementById('importJson')?.value;
                
                if (!json) {
                    this.app.ui.showToast(texts.error, 'error');
                    return;
                }
                
                if (this.app.menuManager.importFromJSON(json)) {
                    this.app.ui.closeImportModal();
                    this.app.ui.showToast(texts.imported, 'success');
                } else {
                    this.app.ui.showToast(texts.invalidJson, 'error');
                }
            }
            
            importFromCsv() {
                const texts = this.app.langManager.getAllTexts();
                const csv = document.getElementById('importCsv')?.value;
                
                if (!csv) {
                    this.app.ui.showToast(texts.error, 'error');
                    return;
                }
                
                if (this.app.menuManager.importFromCSV(csv)) {
                    this.app.ui.closeImportModal();
                    this.app.ui.showToast(texts.imported, 'success');
                } else {
                    this.app.ui.showToast(texts.invalidCsv, 'error');
                }
            }
            
            saveToFile() {
                this.exportToFile();
            }
            
            resetToDefault() {
                const texts = this.app.langManager.getAllTexts();
                
                if (confirm(texts.confirmTitle)) {
                    this.app.menuManager.resetToDefault();
                    this.app.ui.showToast(texts.reset, 'success');
                }
            }
        }

        // =================================================
        // الفئة الرئيسية: التطبيق (Application)
        // =================================================
        class Application {
            constructor(data) {
                this.langManager = new LanguageManager(data);
                this.menuManager = new MenuManager(this.langManager);
                this.ui = new UIManager(this);
                this.menuOperations = new MenuOperations(this);
                this.themeManager = new ThemeManager();
                
                this.init();
            }
            
            init() {
                // تهيئة المديرين
                this.langManager.init();
                this.themeManager.init();
                
                // تهيئة واجهة المستخدم
                this.ui.init();
                
                // الاشتراك في التحديثات
                this.langManager.subscribe(() => {
                    this.menuManager.loadFromLanguage();
                    this.ui.updateTexts();
                    this.ui.renderMenu();
                });
                
                this.menuManager.subscribe(() => {
                    this.ui.renderMenu();
                });
                
                this.themeManager.subscribe(() => {
                    // تحديث أيقونة السمة
                    const themeIcon = document.querySelector('#themeToggle i');
                    if (themeIcon) {
                        themeIcon.className = this.themeManager.currentTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                    }
                });
                
                // التهيئة الأولية
                this.ui.updateTexts();
                this.ui.renderMenu();
            }
            
            // دوال مساعدة للوصول من HTML
            setLanguage(lang) {
                this.langManager.setLanguage(lang);
            }
            
            toggleTheme() {
                this.themeManager.toggleTheme();
            }
            
            toggleLanguageMenu() {
                this.ui.toggleLanguageMenu();
            }
            
            showVersionModal() {
                this.ui.showVersionModal();
            }
            
            showV1Panel() {
                this.ui.showV1Panel();
            }
            
            showV2Panel() {
                this.ui.showV2Panel();
            }
            
            hideVersionModal() {
                this.ui.hideVersionModal();
            }
            
            closeDevWindows() {
                this.ui.closeDevWindows();
            }
            
            openColorPicker() {
                this.ui.openColorPicker();
            }
            
            closeColorPicker() {
                this.ui.closeColorPicker();
            }
            
            openSearchModal() {
                this.ui.openSearchModal();
            }
            
            openStatsModal() {
                this.ui.openStatsModal();
            }
            
            openImportModal() {
                this.ui.openImportModal();
            }
            
            applyColors() {
                this.menuOperations.applyColors();
            }
            
            confirmDeleteAll() {
                this.ui.confirmDeleteAll();
            }
            
            closeConfirmModal() {
                this.ui.closeConfirmModal();
            }
            
            resetToDefault() {
                this.menuOperations.resetToDefault();
            }
        }

        // =================================================
        // بيانات اللغات (متعددة اللغات)
        // =================================================
        const LANGUAGE_DATA = {
            ar: {
                pageTitle: "توستو | القائمة",
                heroTitle: "توستو",
                workTime: "🕒 08:00 - 02:30",
                scrollBtn: "استعرض القائمة",
                menuTitle: "قائمتنا",
                contactTitle: "اتصل بنا",
                phone: "📞 0532 158 02 07",
                instagram: "إنستغرام",
                location: "📍 الموقع",
                
                devModalTitle: "🔧 خيارات المطور",
                devModalDesc: "أي إصدار تريد استخدامه؟",
                devV1Btn: "⚙️ الإصدار V1 (كلاسيكي)",
                devV2Btn: "🖼️ الإصدار V2 (متقدم)",
                devCloseBtn: "❌ إغلاق",
                
                confirmTitle: "⚠️ تأكيد",
                confirmYes: "نعم",
                confirmNo: "لا",
                
                colorTitle: "🎨 تخصيص الألوان",
                colorCategory: "لون عنوان الفئة",
                colorName: "لون اسم المنتج",
                colorPrice: "لون السعر",
                colorApply: "تطبيق الألوان",
                colorClose: "إغلاق",
                
                v1Title: "⚙️ لوحة المطور V1",
                addProduct: "➕ إضافة منتج",
                productName: "اسم المنتج",
                price: "السعر (₺)",
                addProductBtn: "✅ إضافة المنتج",
                addCategory: "📁 إضافة فئة",
                newCategory: "اسم الفئة الجديدة",
                addCategoryBtn: "📁 إضافة الفئة",
                colorEdit: "🎨 تعديل الألوان",
                tools: "🔧 أدوات",
                deleteAll: "🗑️ حذف القائمة بالكامل",
                copyCode: "📋 نسخ الكود",
                closePanel: "❌ إغلاق اللوحة",
                
                v2Title: "🖼️ لوحة المطور V2 (متقدمة)",
                addCategoryImage: "➕ إضافة فئة مع صورة",
                categoryName: "اسم الفئة",
                categoryImageUrl: "رابط صورة الفئة (اختياري)",
                addCategoryImageBtn: "📁 إضافة فئة",
                addProductWithImage: "🖼️ إضافة منتج مع صورة",
                productImageUrl: "رابط صورة المنتج (اختياري)",
                categorySelect: "اختر الفئة",
                manageImages: "🖼️ إدارة الصور",
                imageUrls: "روابط الصور المحفوظة",
                useImage: "استخدام",
                deleteImage: "حذف",
                addImageUrl: "➕ إضافة رابط جديد",
                newImageUrl: "رابط صورة جديد",
                addUrl: "إضافة",
                saveChanges: "💾 حفظ التغييرات",
                noImages: "لا توجد صور محفوظة",
                
                stats: "الإحصائيات",
                categories: "الفئات",
                items: "المنتجات",
                averagePrice: "متوسط السعر",
                images: "الصور",
                search: "بحث",
                searchPlaceholder: "ابحث عن منتج أو فئة...",
                noResults: "لا توجد نتائج",
                statistics: "الإحصائيات",
                import: "استيراد",
                export: "تصدير",
                importJson: "استيراد JSON",
                importCsv: "استيراد CSV",
                pasteJsonHere: "الصق JSON هنا",
                pasteCsvHere: "الصق CSV هنا",
                invalidJson: "JSON غير صالح",
                invalidCsv: "CSV غير صالح",
                imported: "تم الاستيراد بنجاح",
                exported: "تم التصدير بنجاح",
                reset: "تمت إعادة التعيين",
                undo: "تراجع",
                redo: "إعادة",
                edit: "تعديل",
                delete: "حذف",
                deleteCategory: "حذف الفئة",
                imageSelected: "تم اختيار الصورة",
                currentMenuCode: "كود القائمة الحالي",
                
                success: "تم بنجاح!",
                error: "خطأ!",
                copied: "تم النسخ!",
                deleted: "تم الحذف!",
                added: "تمت الإضافة!",
                updated: "تم التحديث!",
                
                menuData: [
                    {
                        category: "توست",
                        image: "https://images.unsplash.com/photo-1528735602780-2552fd46c7af?w=400",
                        items: [
                            { name: "توست سجق", price: 45, image: "https://images.unsplash.com/photo-1606755456206-b25206cde27e?w=100" },
                            { name: "توست جبن", price: 40, image: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=100" },
                            { name: "توست مشكل", price: 50, image: "https://images.unsplash.com/photo-1606755456206-b25206cde27e?w=100" },
                            { name: "توست سجق", price: 48, image: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=100" }
                        ]
                    },
                    {
                        category: "مشروبات",
                        image: "https://images.unsplash.com/photo-1544145945-f90425340c7e?w=400",
                        items: [
                            { name: "شاي", price: 10, image: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=100" },
                            { name: "قهوة", price: 20, image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=100" },
                            { name: "عيران", price: 15, image: "https://images.unsplash.com/photo-1544145945-f90425340c7e?w=100" },
                            { name: "كولا", price: 25, image: "https://images.unsplash.com/photo-1629203851122-3726ecdfcb80?w=100" }
                        ]
                    },
                    {
                        category: "حلويات",
                        image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=400",
                        items: [
                            { name: "كنافة", price: 60, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" },
                            { name: "أرز بالحليب", price: 35, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" },
                            { name: "بقلاوة", price: 50, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" },
                            { name: "آيس كريم", price: 30, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" }
                        ]
                    }
                ]
            },
            
            en: {
                pageTitle: "Tosttoo | Menu",
                heroTitle: "Tosttoo",
                workTime: "🕒 08:00 - 02:30",
                scrollBtn: "Explore Menu",
                menuTitle: "Our Menu",
                contactTitle: "Contact Us",
                phone: "📞 +90 532 158 02 07",
                instagram: "Instagram",
                location: "📍 Location",
                
                devModalTitle: "🔧 DEVELOPER OPTIONS",
                devModalDesc: "Which version would you like to use?",
                devV1Btn: "⚙️ V1 (Classic)",
                devV2Btn: "🖼️ V2 (Advanced)",
                devCloseBtn: "❌ Close",
                
                confirmTitle: "⚠️ Confirm",
                confirmYes: "Yes",
                confirmNo: "No",
                
                colorTitle: "🎨 Customize Colors",
                colorCategory: "Category Title Color",
                colorName: "Product Name Color",
                colorPrice: "Price Color",
                colorApply: "Apply Colors",
                colorClose: "Close",
                
                v1Title: "⚙️ DEVELOPER PANEL V1",
                addProduct: "➕ Add Product",
                productName: "Product Name",
                price: "Price (₺)",
                addProductBtn: "✅ Add Product",
                addCategory: "📁 Add Category",
                newCategory: "New Category Name",
                addCategoryBtn: "📁 Add Category",
                colorEdit: "🎨 Edit Colors",
                tools: "🔧 Tools",
                deleteAll: "🗑️ Delete All Menu",
                copyCode: "📋 Copy Code",
                closePanel: "❌ Close Panel",
                
                v2Title: "🖼️ DEVELOPER PANEL V2 (ADVANCED)",
                addCategoryImage: "➕ Add Category with Image",
                categoryName: "Category Name",
                categoryImageUrl: "Category Image URL (optional)",
                addCategoryImageBtn: "📁 Add Category",
                addProductWithImage: "🖼️ Add Product with Image",
                productImageUrl: "Product Image URL (optional)",
                categorySelect: "Select Category",
                manageImages: "🖼️ Image Management",
                imageUrls: "Saved Image URLs",
                useImage: "Use",
                deleteImage: "Delete",
                addImageUrl: "➕ Add New URL",
                newImageUrl: "New Image URL",
                addUrl: "Add",
                saveChanges: "💾 Save Changes",
                noImages: "No saved images",
                
                stats: "Statistics",
                categories: "Categories",
                items: "Items",
                averagePrice: "Average Price",
                images: "Images",
                search: "Search",
                searchPlaceholder: "Search for product or category...",
                noResults: "No results found",
                statistics: "Statistics",
                import: "Import",
                export: "Export",
                importJson: "Import JSON",
                importCsv: "Import CSV",
                pasteJsonHere: "Paste JSON here",
                pasteCsvHere: "Paste CSV here",
                invalidJson: "Invalid JSON",
                invalidCsv: "Invalid CSV",
                imported: "Imported successfully",
                exported: "Exported successfully",
                reset: "Reset successful",
                undo: "Undo",
                redo: "Redo",
                edit: "Edit",
                delete: "Delete",
                deleteCategory: "Delete Category",
                imageSelected: "Image selected",
                currentMenuCode: "Current Menu Code",
                
                success: "Success!",
                error: "Error!",
                copied: "Copied!",
                deleted: "Deleted!",
                added: "Added!",
                updated: "Updated!",
                
                menuData: [
                    {
                        category: "Toast",
                        image: "https://images.unsplash.com/photo-1528735602780-2552fd46c7af?w=400",
                        items: [
                            { name: "Sucuk Toast", price: 45, image: "https://images.unsplash.com/photo-1606755456206-b25206cde27e?w=100" },
                            { name: "Cheese Toast", price: 40, image: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=100" },
                            { name: "Mixed Toast", price: 50, image: "https://images.unsplash.com/photo-1606755456206-b25206cde27e?w=100" },
                            { name: "Sausage Toast", price: 48, image: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=100" }
                        ]
                    },
                    {
                        category: "Drinks",
                        image: "https://images.unsplash.com/photo-1544145945-f90425340c7e?w=400",
                        items: [
                            { name: "Tea", price: 10, image: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=100" },
                            { name: "Coffee", price: 20, image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=100" },
                            { name: "Ayran", price: 15, image: "https://images.unsplash.com/photo-1544145945-f90425340c7e?w=100" },
                            { name: "Cola", price: 25, image: "https://images.unsplash.com/photo-1629203851122-3726ecdfcb80?w=100" }
                        ]
                    },
                    {
                        category: "Desserts",
                        image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=400",
                        items: [
                            { name: "Kunefe", price: 60, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" },
                            { name: "Rice Pudding", price: 35, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" },
                            { name: "Baklava", price: 50, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" },
                            { name: "Ice Cream", price: 30, image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=100" }
                        ]
                    }
                ]
            }
        };

        // إنشاء التطبيق
        window.app = new Application(LANGUAGE_DATA);
    })();
</script>

<!-- =====================================================
   هيكل الصفحة (HTML Structure)
   ===================================================== -->

<!-- عناصر التحكم العائمة -->
<div class="floating-controls">
    <button class="control-btn" id="langToggle" onclick="app.toggleLanguageMenu()" title="تغيير اللغة">
        <i class="fas fa-globe"></i>
    </button>
    <button class="control-btn" id="themeToggle" onclick="app.toggleTheme()" title="تغيير السمة">
        <i class="fas fa-moon"></i>
    </button>
    <button class="control-btn" onclick="app.openSearchModal()" title="بحث">
        <i class="fas fa-search"></i>
    </button>
    <button class="control-btn" onclick="app.openStatsModal()" title="إحصائيات">
        <i class="fas fa-chart-bar"></i>
    </button>
</div>

<!-- قائمة اللغات -->
<div class="language-menu" id="languageMenu"></div>

<!-- زر المطور العائم -->
<div class="floating-dev-btn" onclick="app.showVersionModal()" title="لوحة المطور">
    <i class="fas fa-code"></i>
</div>

<!-- نافذة اختيار إصدار المطور -->
<div class="modal-overlay" id="devVersionModal" style="display: none;">
    <div class="modal">
        <div class="modal-header">
            <h3 id="devModalTitle">🔧 خيارات المطور</h3>
            <button class="modal-close" onclick="app.hideVersionModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <p id="devModalDesc" class="text-center mb-4">أي إصدار تريد استخدامه؟</p>
            <div class="button-group">
                <button class="btn btn-primary" id="devV1Btn" onclick="app.showV1Panel()">
                    <i class="fas fa-cog"></i> ⚙️ V1 (كلاسيكي)
                </button>
                <button class="btn btn-secondary" id="devV2Btn" onclick="app.showV2Panel()">
                    <i class="fas fa-paint-brush"></i> 🖼️ V2 (متقدم)
                </button>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger" id="devCloseBtn" onclick="app.hideVersionModal()">
                <i class="fas fa-times"></i> إغلاق
            </button>
        </div>
    </div>
</div>

<!-- نافذة المطور V1 -->
<div class="dev-window" id="devWindowV1" style="display: none;"></div>

<!-- نافذة المطور V2 -->
<div class="dev-window v2" id="devWindowV2" style="display: none;"></div>

<!-- نافذة تأكيد الحذف -->
<div class="modal-overlay" id="confirmModal" style="display: none;">
    <div class="modal">
        <div class="modal-header">
            <h3 id="confirmTitle">⚠️ تأكيد</h3>
            <button class="modal-close" onclick="app.closeConfirmModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <p class="text-center">هل أنت متأكد من رغبتك في حذف القائمة بالكامل؟</p>
        </div>
        <div class="modal-footer">
            <button class="btn btn-success" id="confirmYes" onclick="window.confirmDeleteAllAction()">نعم</button>
            <button class="btn btn-danger" id="confirmNo" onclick="app.closeConfirmModal()">لا</button>
        </div>
    </div>
</div>

<!-- نافذة اختيار الألوان -->
<div class="modal-overlay" id="colorPickerModal" style="display: none;">
    <div class="modal">
        <div class="modal-header">
            <h3 id="colorPickerTitle">🎨 تخصيص الألوان</h3>
            <button class="modal-close" onclick="app.closeColorPicker()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="form-label" id="colorCategoryLabel">لون عنوان الفئة</label>
                <input type="color" id="categoryColor" class="form-control" value="#ff8c00" style="height: 50px;">
            </div>
            <div class="form-group">
                <label class="form-label" id="colorNameLabel">لون اسم المنتج</label>
                <input type="color" id="nameColor" class="form-control" value="#ff8c00" style="height: 50px;">
            </div>
            <div class="form-group">
                <label class="form-label" id="colorPriceLabel">لون السعر</label>
                <input type="color" id="priceColor" class="form-control" value="#ffffff" style="height: 50px;">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-success" id="applyColorsBtn" onclick="app.applyColors()">
                <i class="fas fa-check"></i> تطبيق
            </button>
            <button class="btn btn-danger" id="closeColorPickerBtn" onclick="app.closeColorPicker()">
                <i class="fas fa-times"></i> إلغاء
            </button>
        </div>
    </div>
</div>

<!-- نافذة البحث -->
<div class="modal-overlay" id="searchModal" style="display: none;"></div>

<!-- نافذة الإحصائيات -->
<div class="modal-overlay" id="statsModal" style="display: none;"></div>

<!-- نافذة الاستيراد -->
<div class="modal-overlay" id="importModal" style="display: none;"></div>

<!-- القسم الرئيسي -->
<section class="hero">
    <div class="hero-content">
        <h1>توستو</h1>
        <div class="work-time">🕒 08:00 - 02:30</div>
        <a href="#menu"><button class="btn">استعرض القائمة</button></a>
    </div>
</section>

<!-- قسم القائمة -->
<section id="menu" class="section">
    <div class="container">
        <h2 class="section-title">قائمتنا</h2>
        <div class="grid" id="menuContainer"></div>
    </div>
</section>

<!-- قسم الاتصال -->
<section id="contact" class="contact-section">
    <div class="container">
        <h2 class="section-title">اتصل بنا</h2>
        <div class="contact-content">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fas fa-phone-alt"></i>
                    </div>
                    <div class="contact-text">
                        📞 0532 158 02 07
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fab fa-instagram"></i>
                    </div>
                    <div class="contact-text">
                        <a href="https://instagram.com/tosttoo" target="_blank">إنستغرام</a>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="contact-text">
                        📍 الموقع
                    </div>
                </div>
            </div>
            <div class="map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3011.435678903456!2d29.123456789012345!3d41.123456789012345!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDHCsDA3JzI0LjAiTiAyOcKwMDcnMzAuMCJF!5e0!3m2!1str!2str!4v1234567890123!5m2!1str!2str" loading="lazy"></iframe>
            </div>
        </div>
    </div>
</section>

<!-- تذييل الصفحة مع اختصارات لوحة المفاتيح -->
<div style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.5); padding: 5px 10px; border-radius: 20px; font-size: 11px; color: #888; backdrop-filter: blur(5px); z-index: 100;">
    <i class="fas fa-keyboard"></i> Ctrl+Z: تراجع | Ctrl+Y: إعادة | Ctrl+F: بحث | Ctrl+S: حفظ | Ctrl+L: لغة | Ctrl+D: سمة
</div>

<script>
    // منع القائمة اليمنى
    document.addEventListener('contextmenu', (e) => {
        if (e.target.closest('.dev-window') || e.target.closest('.modal')) {
            return;
        }
        e.preventDefault();
    });
</script>
</body>
</html>
