<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tosttoo | Ana Sayfa</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
    color: #fff;
    min-height: 100vh;
}

/* Ø§Ù„Ù‡ÙŠØ±Ùˆ Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
.hero {
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    overflow: hidden;
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                url('https://i.postimg.cc/k5TwQCVb/hero.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

.hero::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,140,0,0.1) 0%, transparent 50%);
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.hero h1 {
    font-size: 80px;
    color: #ff8c00;
    margin: 0;
    cursor: pointer;
    text-shadow: 0 0 20px rgba(255,140,0,0.5);
    position: relative;
    z-index: 1;
    transition: all 0.3s ease;
}

.hero h1:hover {
    transform: scale(1.05);
    text-shadow: 0 0 30px rgba(255,140,0,0.8);
}

.work-time {
    font-size: 20px;
    margin: 20px 0;
    padding: 10px 20px;
    background: rgba(0,0,0,0.6);
    border-radius: 30px;
    border: 1px solid #ff8c00;
    position: relative;
    z-index: 1;
    backdrop-filter: blur(5px);
}

.price-container {
    margin: 20px 0;
    font-size: 28px;
    position: relative;
    z-index: 1;
    background: rgba(0,0,0,0.7);
    padding: 15px 30px;
    border-radius: 50px;
    border: 1px solid #ff8c00;
    box-shadow: 0 0 20px rgba(255,140,0,0.3);
    backdrop-filter: blur(5px);
}

#price {
    color: #ff8c00;
    font-weight: bold;
    font-size: 32px;
    padding: 0 5px;
}

.btn {
    background: #ff8c00;
    border: none;
    padding: 15px 40px;
    color: #fff;
    font-size: 18px;
    font-weight: 600;
    border-radius: 50px;
    cursor: pointer;
    position: relative;
    z-index: 1;
    transition: all 0.3s ease;
    box-shadow: 0 5px 20px rgba(255,140,0,0.3);
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(255,140,0,0.5);
}

/* Ø§Ù„Ù…Ù†ÙŠÙˆ */
.container {
    padding: 50px 20px;
    max-width: 1000px;
    margin: 0 auto;
}

.container h2 {
    font-size: 40px;
    color: #ff8c00;
    text-align: center;
    margin-bottom: 40px;
    position: relative;
}

.container h2::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 3px;
    background: #ff8c00;
    border-radius: 3px;
}

.card {
    background: rgba(30, 30, 30, 0.9);
    backdrop-filter: blur(10px);
    padding: 30px;
    border-radius: 20px;
    margin-top: 30px;
    border: 1px solid rgba(255,140,0,0.3);
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    transition: all 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
    border-color: #ff8c00;
    box-shadow: 0 15px 40px rgba(255,140,0,0.2);
}

.card h3 {
    color: #ff8c00;
    font-size: 28px;
    margin-bottom: 20px;
    text-align: center;
    border-bottom: 2px solid #ff8c00;
    padding-bottom: 10px;
}

.item {
    display: flex;
    justify-content: space-between;
    margin: 15px 0;
    padding: 10px 20px;
    background: rgba(0,0,0,0.4);
    border-radius: 10px;
    transition: all 0.3s ease;
    cursor: default;
}

.item:hover {
    background: rgba(255,140,0,0.15);
    transform: scale(1.02);
}

.name {
    color: #ff8c00;
    font-weight: 600;
    font-size: 18px;
}

.item span:last-child {
    color: #fff;
    font-weight: bold;
    font-size: 18px;
}

/* Ø§Ù„Ø§ØªØµØ§Ù„ */
.contact {
    text-align: center;
    padding: 60px 20px;
    background: linear-gradient(to top, #000, #1a1a1a);
    margin-top: 50px;
}

.contact h2 {
    font-size: 40px;
    color: #ff8c00;
    margin-bottom: 30px;
}

.contact p {
    margin: 20px 0;
    font-size: 20px;
}

.contact a {
    color: #ff8c00;
    text-decoration: none;
    transition: all 0.3s ease;
}

.contact a:hover {
    color: #fff;
}

iframe {
    border-radius: 15px;
    margin-top: 30px;
    border: 3px solid #ff8c00;
    max-width: 100%;
}

/* Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ± */
.dev-panel {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(20, 20, 20, 0.95);
    backdrop-filter: blur(20px);
    padding: 30px;
    border: 2px solid #ff8c00;
    border-radius: 20px;
    display: none;
    z-index: 1000;
    width: 90%;
    max-width: 450px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 50px rgba(255,140,0,0.3);
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translate(-50%, -40%);
    }
    to {
        opacity: 1;
        transform: translate(-50%, -50%);
    }
}

.dev-panel h3 {
    color: #ff8c00;
    font-size: 28px;
    text-align: center;
    margin-bottom: 20px;
    border-bottom: 2px solid #ff8c00;
    padding-bottom: 10px;
}

.dev-section {
    margin: 20px 0;
    padding: 15px;
    background: rgba(255,140,0,0.1);
    border-radius: 10px;
    border: 1px solid #ff8c00;
}

.dev-section h4 {
    color: #ff8c00;
    margin-bottom: 15px;
    font-size: 18px;
}

.dev-panel input,
.dev-panel select {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    background: rgba(0,0,0,0.5);
    border: 1px solid #333;
    color: #fff;
    border-radius: 8px;
    font-family: 'Poppins', sans-serif;
    transition: all 0.3s ease;
}

.dev-panel input:focus,
.dev-panel select:focus {
    border-color: #ff8c00;
    outline: none;
    box-shadow: 0 0 10px rgba(255,140,0,0.3);
}

.dev-panel button {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    background: #ff8c00;
    border: none;
    color: #fff;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
    transition: all 0.3s ease;
}

.dev-panel button:hover {
    background: #ffa233;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255,140,0,0.4);
}

.dev-panel .close-btn {
    background: #dc3545;
}

.dev-panel .close-btn:hover {
    background: #c82333;
}

.dev-panel .success-btn {
    background: #28a745;
}

.dev-panel .success-btn:hover {
    background: #218838;
}

/* Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.8);
    backdrop-filter: blur(5px);
    display: none;
    z-index: 999;
}

/* ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø°Ù */
.delete-mode .item {
    cursor: pointer;
    position: relative;
}

.delete-mode .item:hover {
    background: rgba(255,0,0,0.2);
    border: 1px solid red;
}

.delete-mode .item:hover::after {
    content: 'ğŸ—‘ï¸';
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 20px;
}

/* ÙŠÙˆÙƒØ³ÙŠØ±Ù…ÙŠ Ù‡Ø§ØªØ§Ø³ÙŠ */
.error-message {
    color: #ff4444;
    font-size: 14px;
    margin-top: 5px;
}

.success-message {
    color: #00C851;
    font-size: 14px;
    margin-top: 5px;
}

.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255,255,255,.3);
    border-radius: 50%;
    border-top-color: #ff8c00;
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}
</style>
</head>

<body>

<!-- Ø§Ù„Ù‡ÙŠØ±Ùˆ Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
<section class="hero">
    <h1 id="logo">Tosttoo</h1>
    <div class="work-time">ğŸ•’ 08:00 - 02:30</div>
    <div class="price-container">
        ğŸ’° Fiyat: <span id="price">YÃ¼kleniyor...</span> â‚º
    </div>
    <button class="btn" onclick="scrollToMenu()">MenÃ¼yÃ¼ GÃ¶r</button>
</section>

<!-- Ø§Ù„Ù…Ù†ÙŠÙˆ -->
<div class="container" id="menu">
    <h2>MenÃ¼</h2>
    
    <div class="card" id="card1">
        <h3>Tostlar</h3>
        <div class="item"><span class="name">KaÅŸarlÄ± Tost</span><span class="item-price">60â‚º</span></div>
        <div class="item"><span class="name">Sucuklu Tost</span><span class="item-price">75â‚º</span></div>
        <div class="item"><span class="name">KarÄ±ÅŸÄ±k Tost</span><span class="item-price">85â‚º</span></div>
    </div>
    
    <div class="card" id="card2">
        <h3>Ä°Ã§ecekler</h3>
        <div class="item"><span class="name">Ã‡ay</span><span class="item-price">10â‚º</span></div>
        <div class="item"><span class="name">Kahve</span><span class="item-price">15â‚º</span></div>
        <div class="item"><span class="name">Meyve Suyu</span><span class="item-price">20â‚º</span></div>
    </div>
    
    <div class="card" id="card3">
        <h3>TatlÄ±lar</h3>
        <div class="item"><span class="name">KÃ¼nefe</span><span class="item-price">50â‚º</span></div>
        <div class="item"><span class="name">Baklava</span><span class="item-price">45â‚º</span></div>
        <div class="item"><span class="name">SÃ¼tlaÃ§</span><span class="item-price">30â‚º</span></div>
    </div>
</div>

<!-- Ø§Ù„Ø§ØªØµØ§Ù„ -->
<section class="contact">
    <h2>Ä°letiÅŸim</h2>
    <p>ğŸ“ <a href="tel:05321580207">0532 158 0207</a></p>
    <p>ğŸ“· <a id="instaLink" href="https://instagram.com" target="_blank">Instagram</a></p>
    <iframe 
        id="mapFrame"
        src="https://www.google.com/maps?q=36.484479,32.101147&output=embed"
        width="100%" 
        height="300"
        loading="lazy">
    </iframe>
</section>

<!-- Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© -->
<div class="overlay" id="overlay"></div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ± -->
<div class="dev-panel" id="devPanel">
    <h3>âš™ï¸ GeliÅŸtirici Paneli</h3>
    
    <!-- Fiyat BÃ¶lÃ¼mÃ¼ -->
    <div class="dev-section">
        <h4>ğŸ’° Ana FiyatÄ± DÃ¼zenle</h4>
        <input type="number" id="newPrice" placeholder="Yeni fiyat girin">
        <button onclick="updateMainPrice()" class="success-btn">FiyatÄ± GÃ¼ncelle</button>
        <button onclick="togglePriceEdit()">âœï¸ DoÄŸrudan DÃ¼zenle</button>
    </div>
    
    <!-- ÃœrÃ¼n Ekleme BÃ¶lÃ¼mÃ¼ -->
    <div class="dev-section">
        <h4>â• ÃœrÃ¼n Ekle</h4>
        <select id="categorySelect"></select>
        <input type="text" id="productName" placeholder="ÃœrÃ¼n adÄ±">
        <input type="text" id="productPrice" placeholder="Fiyat">
        <button onclick="addProduct()">ÃœrÃ¼n Ekle</button>
    </div>
    
    <!-- Kategori Ekleme -->
    <div class="dev-section">
        <h4>ğŸ“ Kategori Ekle</h4>
        <input type="text" id="newCategory" placeholder="Yeni kategori adÄ±">
        <button onclick="addCategory()">Kategori Ekle</button>
    </div>
    
    <!-- Ek AraÃ§lar -->
    <div class="dev-section">
        <h4>ğŸ”§ Ek AraÃ§lar</h4>
        <button onclick="toggleDeleteMode()">ğŸ—‘ï¸ Silme Modu</button>
        <button onclick="enableEditMode()">ğŸ“ FiyatlarÄ± DÃ¼zenle</button>
        <button onclick="updateInstagram()">ğŸ“· Instagram GÃ¼ncelle</button>
        <button onclick="updateLocation()">ğŸ“ Konum GÃ¼ncelle</button>
    </div>
    
    <!-- Supabase Senkronizasyon -->
    <div class="dev-section">
        <h4>ğŸ’¾ Supabase Senkronizasyon</h4>
        <button onclick="saveToSupabase()" class="success-btn">ğŸ’¾ Supabase'e Kaydet</button>
        <button onclick="loadFromSupabase()">ğŸ”„ Supabase'den YÃ¼kle</button>
        <div id="syncStatus" style="text-align: center; margin-top: 10px; font-size: 14px;"></div>
    </div>
    
    <!-- Yerel Depolama -->
    <div class="dev-section">
        <h4>ğŸ“± Yerel Depolama</h4>
        <button onclick="saveToLocal()">ğŸ“¥ TarayÄ±cÄ±ya Kaydet</button>
        <button onclick="resetToDefault()">ğŸ”„ VarsayÄ±lana DÃ¶n</button>
    </div>
    
    <button class="close-btn" onclick="closeDev()">Kapat</button>
</div>

<!-- Supabase Script -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
// ========== SUPABASE KONFÄ°GÃœRASYONU ==========
const supabaseUrl = "https://cufbyiefzbgygtyibupl.supabase.co";
const supabaseKey = "sb_publishable_mTI9Fl-eMcN3TbLqyQAGNw_fzQF7ssr";
const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

// ========== DEÄÄ°ÅKENLER ==========
let isDeveloper = false;
let deleteMode = false;
let editMode = false;
let priceEditMode = false;
const SECRET_PASSWORD = "momotunc0702";

// ========== TEMEL FONKSÄ°YONLAR ==========
function scrollToMenu() {
    document.getElementById("menu").scrollIntoView({behavior: "smooth"});
}

// ========== GÄ°ZLÄ° GÄ°RÄ°Å SÄ°STEMÄ° ==========
let clickCount = 0;
let clickTimer = null;

document.getElementById("logo").onclick = function() {
    clickCount++;
    
    if(clickTimer) clearTimeout(clickTimer);
    
    clickTimer = setTimeout(() => {
        clickCount = 0;
    }, 3000);
    
    if(clickCount === 5) {
        clickCount = 0;
        let password = prompt("ğŸ” Åifreyi girin:");
        if(password === SECRET_PASSWORD) {
            openDev();
        } else {
            alert("âŒ YanlÄ±ÅŸ ÅŸifre!");
        }
    }
};

// ========== SUPABASE FONKSÄ°YONLARI ==========
async function getPrice() {
    try {
        const { data, error } = await supabase
            .from("settings")
            .select("price")
            .eq("id", 1)
            .single();

        if (error) {
            console.error("Supabase hatasÄ±:", error);
            document.getElementById("price").innerText = "60";
            return;
        }

        if (data) {
            document.getElementById("price").innerText = data.price;
            showStatus("âœ… Fiyat yÃ¼klendi", "success");
        }
    } catch (err) {
        console.error("BaÄŸlantÄ± hatasÄ±:", err);
        document.getElementById("price").innerText = "60";
    }
}

async function updatePrice(newPrice) {
    try {
        showStatus("ğŸ”„ GÃ¼ncelleniyor...", "loading");
        
        const { data, error } = await supabase
            .from("settings")
            .update({ price: newPrice })
            .eq("id", 1);
            
        if (error) {
            console.error("GÃ¼ncelleme hatasÄ±:", error);
            showStatus("âŒ GÃ¼ncelleme baÅŸarÄ±sÄ±z!", "error");
            return false;
        }
        
        showStatus("âœ… Fiyat gÃ¼ncellendi!", "success");
        return true;
    } catch (err) {
        console.error("BaÄŸlantÄ± hatasÄ±:", err);
        showStatus("âŒ BaÄŸlantÄ± hatasÄ±!", "error");
        return false;
    }
}

async function saveToSupabase() {
    try {
        showStatus("ğŸ”„ Kaydediliyor...", "loading");
        
        // Ana fiyatÄ± kaydet
        const mainPrice = document.getElementById("price").innerText;
        await supabase
            .from("settings")
            .update({ price: mainPrice })
            .eq("id", 1);
        
        // MenÃ¼ verilerini hazÄ±rla
        const menuData = [];
        document.querySelectorAll(".card").forEach((card, index) => {
            const category = card.querySelector("h3").innerText;
            const items = [];
            card.querySelectorAll(".item").forEach(item => {
                items.push({
                    name: item.querySelector(".name").innerText,
                    price: item.querySelector(".item-price").innerText
                });
            });
            menuData.push({ category, items });
        });
        
        // MenÃ¼yÃ¼ kaydet (settings tablosuna menu_data olarak ekleyebilirsiniz)
        await supabase
            .from("settings")
            .update({ menu_data: JSON.stringify(menuData) })
            .eq("id", 1);
        
        showStatus("âœ… Supabase'e kaydedildi!", "success");
    } catch (err) {
        console.error("KayÄ±t hatasÄ±:", err);
        showStatus("âŒ KayÄ±t baÅŸarÄ±sÄ±z!", "error");
    }
}

async function loadFromSupabase() {
    try {
        showStatus("ğŸ”„ YÃ¼kleniyor...", "loading");
        
        const { data, error } = await supabase
            .from("settings")
            .select("*")
            .eq("id", 1)
            .single();
        
        if (error) {
            showStatus("âŒ YÃ¼kleme baÅŸarÄ±sÄ±z!", "error");
            return;
        }
        
        if (data) {
            // FiyatÄ± gÃ¼ncelle
            if (data.price) {
                document.getElementById("price").innerText = data.price;
            }
            
            // MenÃ¼yÃ¼ gÃ¼ncelle
            if (data.menu_data) {
                const menuData = JSON.parse(data.menu_data);
                // MenÃ¼yÃ¼ yeniden oluÅŸtur
                // (Bu kÄ±smÄ± menÃ¼ yapÄ±nÄ±za gÃ¶re dÃ¼zenleyin)
            }
            
            showStatus("âœ… Veriler yÃ¼klendi!", "success");
        }
    } catch (err) {
        console.error("YÃ¼kleme hatasÄ±:", err);
        showStatus("âŒ YÃ¼kleme hatasÄ±!", "error");
    }
}

function showStatus(message, type) {
    const statusDiv = document.getElementById("syncStatus");
    if (statusDiv) {
        statusDiv.innerHTML = message;
        statusDiv.className = type === "error" ? "error-message" : 
                             type === "success" ? "success-message" : "";
    }
}

// ========== GELÄ°ÅTÄ°RÄ°CÄ° PANELÄ° ==========
function openDev() {
    document.getElementById("devPanel").style.display = "block";
    document.getElementById("overlay").style.display = "block";
    isDeveloper = true;
    
    document.getElementById("newPrice").value = document.getElementById("price").innerText;
    updateCategorySelect();
}

function closeDev() {
    document.getElementById("devPanel").style.display = "none";
    document.getElementById("overlay").style.display = "none";
    isDeveloper = false;
    deleteMode = false;
    editMode = false;
    priceEditMode = false;
    
    document.querySelectorAll('.item-price').forEach(p => {
        p.contentEditable = false;
        p.style.background = "transparent";
    });
    document.getElementById("price").contentEditable = false;
    document.body.classList.remove("delete-mode");
}

// ========== FÄ°YAT DÃœZENLEME ==========
function updateMainPrice() {
    if(!isDeveloper) return;
    let newPrice = document.getElementById("newPrice").value;
    if(newPrice && !isNaN(newPrice)) {
        document.getElementById("price").innerText = newPrice;
        updatePrice(newPrice); // Supabase'e kaydet
        alert("âœ… Fiyat gÃ¼ncellendi!");
    } else {
        alert("âš ï¸ LÃ¼tfen geÃ§erli bir fiyat girin!");
    }
}

function togglePriceEdit() {
    if(!isDeveloper) return;
    priceEditMode = !priceEditMode;
    let priceElement = document.getElementById("price");
    
    if(priceEditMode) {
        priceElement.contentEditable = true;
        priceElement.style.background = "rgba(255,140,0,0.3)";
        priceElement.style.outline = "2px solid #ff8c00";
        priceElement.focus();
    } else {
        priceElement.contentEditable = false;
        priceElement.style.background = "transparent";
        priceElement.style.outline = "none";
    }
}

document.getElementById("price").addEventListener("blur", function() {
    if(isDeveloper && priceEditMode) {
        let newPrice = this.innerText;
        if(!isNaN(newPrice)) {
            updatePrice(newPrice);
        }
        priceEditMode = false;
        this.contentEditable = false;
        this.style.background = "transparent";
        this.style.outline = "none";
    }
});

// ========== KATEGORÄ° VE ÃœRÃœN YÃ–NETÄ°MÄ° ==========
function updateCategorySelect() {
    let select = document.getElementById("categorySelect");
    select.innerHTML = "";
    
    document.querySelectorAll(".card h3").forEach((h3, index) => {
        let option = document.createElement("option");
        option.value = index;
        option.textContent = h3.innerText;
        select.appendChild(option);
    });
}

function addCategory() {
    if(!isDeveloper) return;
    
    let categoryName = document.getElementById("newCategory").value.trim();
    if(!categoryName) {
        alert("âš ï¸ Kategori adÄ± girin!");
        return;
    }
    
    let container = document.getElementById("menu");
    let newCard = document.createElement("div");
    newCard.className = "card";
    newCard.innerHTML = `<h3>${categoryName}</h3>`;
    container.appendChild(newCard);
    
    document.getElementById("newCategory").value = "";
    updateCategorySelect();
    alert("âœ… Kategori eklendi!");
}

function addProduct() {
    if(!isDeveloper) return;
    
    let categoryIndex = document.getElementById("categorySelect").value;
    let name = document.getElementById("productName").value.trim();
    let price = document.getElementById("productPrice").value.trim();
    
    if(!name || !price) {
        alert("âš ï¸ ÃœrÃ¼n adÄ± ve fiyat girin!");
        return;
    }
    
    let cards = document.querySelectorAll(".card");
    if(cards[categoryIndex]) {
        let item = document.createElement("div");
        item.className = "item";
        item.innerHTML = `<span class="name">${name}</span><span class="item-price">${price}â‚º</span>`;
        cards[categoryIndex].appendChild(item);
        
        document.getElementById("productName").value = "";
        document.getElementById("productPrice").value = "";
        
        alert("âœ… ÃœrÃ¼n eklendi!");
    }
}

// ========== SÄ°LME MODU ==========
function toggleDeleteMode() {
    if(!isDeveloper) return;
    deleteMode = !deleteMode;
    
    if(deleteMode) {
        document.body.classList.add("delete-mode");
        alert("ğŸ—‘ï¸ Silme modu aktif - ÃœrÃ¼nlere tÄ±klayarak silebilirsiniz");
    } else {
        document.body.classList.remove("delete-mode");
    }
}

document.querySelector(".container").addEventListener("click", function(e) {
    if(!isDeveloper || !deleteMode) return;
    
    let item = e.target.closest(".item");
    if(item && confirm("ğŸ—‘ï¸ Silmek istediÄŸinize emin misiniz?")) {
        item.remove();
        alert("âœ… Silindi!");
    }
});

// ========== DÃœZENLEME MODU ==========
function enableEditMode() {
    if(!isDeveloper) return;
    editMode = !editMode;
    
    document.querySelectorAll(".item-price").forEach(price => {
        if(editMode) {
            price.contentEditable = true;
            price.style.background = "#333";
            price.style.padding = "2px 5px";
            price.style.borderRadius = "3px";
        } else {
            price.contentEditable = false;
            price.style.background = "transparent";
            price.style.padding = "0";
        }
    });
    
    alert(editMode ? "âœï¸ FiyatlarÄ± dÃ¼zenleyebilirsiniz" : "ğŸ”’ DÃ¼zenleme modu kapatÄ±ldÄ±");
}

// ========== Ä°NSTAGRAM VE KONUM GÃœNCELLEME ==========
function updateInstagram() {
    if(!isDeveloper) return;
    let newLink = prompt("Yeni Instagram linkini girin:");
    if(newLink) {
        document.getElementById("instaLink").href = newLink;
        alert("âœ… Instagram gÃ¼ncellendi!");
    }
}

function updateLocation() {
    if(!isDeveloper) return;
    let newLocation = prompt("Yeni konum girin (Ã¶rn: 36.484479,32.101147):");
    if(newLocation) {
        document.getElementById("mapFrame").src = 
            `https://www.google.com/maps?q=${newLocation}&output=embed`;
        alert("âœ… Konum gÃ¼ncellendi!");
    }
}

// ========== YEREL DEPOLAMA ==========
function saveToLocal() {
    // FiyatÄ± kaydet
    localStorage.setItem("price", document.getElementById("price").innerText);
    
    // MenÃ¼yÃ¼ kaydet
    localStorage.setItem("menuHTML", document.querySelector(".container").innerHTML);
    
    alert("ğŸ“¥ TarayÄ±cÄ±ya kaydedildi!");
}

function resetToDefault() {
    if(confirm("âš ï¸ Emin misiniz? TÃ¼m deÄŸiÅŸiklikler silinecek!")) {
        localStorage.clear();
        location.reload();
    }
}

// ========== SAYFA YÃœKLENDÄ°ÄÄ°NDE ==========
window.onload = function() {
    // Supabase'den fiyatÄ± yÃ¼kle
    getPrice();
    
    // Yerel depolamadan menÃ¼yÃ¼ yÃ¼kle
    let savedMenu = localStorage.getItem("menuHTML");
    if(savedMenu) {
        document.querySelector(".container").innerHTML = savedMenu;
    }
    
    // Yerel depolamadan Instagram'Ä± yÃ¼kle
    let savedInsta = localStorage.getItem("insta");
    if(savedInsta) {
        document.getElementById("instaLink").href = savedInsta;
    }
    
    // Kategori seÃ§imini gÃ¼ncelle
    updateCategorySelect();
};
</script>

</body>
</html>
